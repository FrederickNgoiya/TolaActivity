(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+aul":function(e,t,r){"use strict";r.r(t);var o=r("q1tI"),n=r.n(o),i=r("i8i4"),a=r.n(i),c=r("okNM"),l=r("2vnA");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var m,f,y,d,h,b,g,v,P,w,O,S=function(){function r(e,t){s(this,r),this.rootStore=e,this.id=parseInt(t.id),this.name=t.name,this.frequencies=t.frequencies,this.periodDateRanges=t.periodDateRanges}return p(r,[{key:"periods",value:function(e){return e in this.periodDateRanges&&this.periodDateRanges[e]}},{key:"periodCount",value:function(e){return this.periods(e)?this.periods(e).length:0}}]),r}(),E=function(){function o(e,t){var r=this;s(this,o),this.rootStore=e,this.programs={},t.forEach(function(e){r.programs[e.id]=new S(r.rootStore,e)})}return p(o,[{key:"getProgram",value:function(e){return this.programs[e]}},{key:"programList",get:function(){return Object.values(this.programs).sort(function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})}}]),o}();function j(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function C(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(r,o,e,t,n){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,o,e)||e},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,o,i),i=null),i}var q,I,R,T={value:null,label:"---------"},N="undefined"!=typeof gettext?gettext:function(e){return e},D=(f=k((m=function(){function r(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),j(this,"reportType",f,this),j(this,"tvaProgramId",y,this),j(this,"timeperiodsProgramId",d,this),j(this,"frequencyId",h,this),j(this,"showAll",b,this),j(this,"mostRecent",g,this),j(this,"mostRecentCount",v,this),j(this,"setMostRecent",P,this),j(this,"setMostRecentCount",w,this),j(this,"setShowAll",O,this),this.programStore=new E(this,e.programs),this.periodLabels={1:N("Life of Program (LoP) only"),3:N("Annual"),2:N("Midline and endline"),5:N("Tri-annual"),4:N("Semi-annual"),7:N("Monthly"),6:N("Quarterly")},this.iptt_url=e.iptt_url;Object(l.o)(function(){return t.tvaProgramId},function(e){null!==e&&null!==t.frequencyId&&-1==t.programStore.getProgram(e).frequencies.indexOf(t.frequencyId)&&t.setFrequency(null)})}var e,t,o;return e=r,(t=[{key:"setTVAProgram",value:function(e){null===e?this.tvaProgramId=null:(this.tvaProgramId=e,this.reportType=1)}},{key:"setTimeperiodsProgram",value:function(e){null===e?this.timeperiodsProgramId=null:(this.timeperiodsProgramId=e,this.reportType=2)}},{key:"setFrequency",value:function(e){this.frequencyId=e}},{key:"timeperiodsProgramOptions",get:function(){return this.programStore.programList.map(function(e){return{value:e.id,label:e.name}})}},{key:"tvaProgramOptions",get:function(){return this.programStore.programList.filter(function(e){return 0<e.frequencies.length}).map(function(e){return{value:e.id,label:e.name}})}},{key:"frequencyOptions",get:function(){var t=this;return 1!==this.reportType||null===this.tvaProgramId?[T]:this.programStore.getProgram(this.tvaProgramId).frequencies.map(function(e){return{value:e,label:t.periodLabels[e]}})}},{key:"selectedTVAProgram",get:function(){return 1!==this.reportType||null===this.tvaProgramId?T:{value:this.tvaProgramId,label:this.programStore.getProgram(this.tvaProgramId).name}}},{key:"selectedTimeperiodsProgram",get:function(){return 2!==this.reportType||null===this.timeperiodsProgramId?T:{value:this.timeperiodsProgramId,label:this.programStore.getProgram(this.timeperiodsProgramId).name}}},{key:"selectedFrequency",get:function(){return 1!==this.reportType||null===this.tvaProgramId||null===this.frequencyId?T:{value:this.frequencyId,label:this.periodLabels[this.frequencyId]}}},{key:"periodCountDisabled",get:function(){return 1!==this.reportType||null===this.tvaProgramId||-1==[3,4,5,6,7].indexOf(this.frequencyId)}},{key:"mostRecentCountDisplay",get:function(){return!this.periodCountDisabled&&this.mostRecent?this.mostRecentCount:""}},{key:"tvaURL",get:function(){if(1!==this.reportType||null===this.tvaProgramId||null===this.frequencyId)return!1;var e="".concat(this.iptt_url).concat(this.tvaProgramId,"/targetperiods/?frequency=").concat(this.frequencyId);return 1==this.frequencyId||2==this.frequencyId?e:this.showAll?"".concat(e,"&timeframe=1"):"".concat(e,"&timeframe=2&numrecentcount=").concat(this.mostRecentCount)}},{key:"timeperiodsURL",get:function(){return 2===this.reportType&&null!==this.timeperiodsProgramId&&"".concat(this.iptt_url).concat(this.timeperiodsProgramId,"/timeperiods/")+"?frequency=7&timeframe=2&numrecentcount=2"}}])&&C(e.prototype,t),o&&C(e,o),r}()).prototype,"reportType",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k(m.prototype,"tvaProgramId",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=k(m.prototype,"timeperiodsProgramId",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=k(m.prototype,"frequencyId",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=k(m.prototype,"showAll",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=k(m.prototype,"mostRecent",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=k(m.prototype,"mostRecentCount",[l.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),k(m.prototype,"frequencyOptions",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"frequencyOptions"),m.prototype),k(m.prototype,"selectedTVAProgram",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"selectedTVAProgram"),m.prototype),k(m.prototype,"selectedTimeperiodsProgram",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"selectedTimeperiodsProgram"),m.prototype),k(m.prototype,"selectedFrequency",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"selectedFrequency"),m.prototype),k(m.prototype,"periodCountDisabled",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"periodCountDisabled"),m.prototype),k(m.prototype,"mostRecentCountDisplay",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"mostRecentCountDisplay"),m.prototype),k(m.prototype,"setTVAProgram",[l.d],Object.getOwnPropertyDescriptor(m.prototype,"setTVAProgram"),m.prototype),k(m.prototype,"setTimeperiodsProgram",[l.d],Object.getOwnPropertyDescriptor(m.prototype,"setTimeperiodsProgram"),m.prototype),k(m.prototype,"setFrequency",[l.d],Object.getOwnPropertyDescriptor(m.prototype,"setFrequency"),m.prototype),P=k(m.prototype,"setMostRecent",[l.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showAll=!1,e.mostRecent=!0}}}),w=k(m.prototype,"setMostRecentCount",[l.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.setMostRecent(),e=Math.min(e,t.programStore.getProgram(t.tvaProgramId).periodCount(t.frequencyId)),t.mostRecentCount=e}}}),O=k(m.prototype,"setShowAll",[l.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.mostRecent=!1,e.showAll=!0}}}),k(m.prototype,"tvaURL",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"tvaURL"),m.prototype),k(m.prototype,"timeperiodsURL",[l.f],Object.getOwnPropertyDescriptor(m.prototype,"timeperiodsURL"),m.prototype),m),_=r("y2Vs");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t,r){return t&&z(e.prototype,t),r&&z(e,r),e}function M(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J,Q=function(e){return n.a.createElement("div",{className:"form-row mb-3"},n.a.createElement("label",{className:"col-form-label text-uppercase"},e.label),e.children)},Y=Object(c.b)("rootStore")(q=Object(c.c)(q=function(e){function i(){var e,t;x(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=M(this,(e=U(i)).call.apply(e,[this].concat(o)))).selectProgram=function(e){t.props.rootStore.setTVAProgram(e.value)},t}return V(i,n.a.Component),L(i,[{key:"render",value:function(){return n.a.createElement(Q,{label:gettext("Program")},n.a.createElement(_.default,{options:this.props.rootStore.tvaProgramOptions,value:this.props.rootStore.selectedTVAProgram,onChange:this.selectProgram,className:"tola-react-select"}))}}]),i}())||q)||q,B=Object(c.b)("rootStore")(I=Object(c.c)(I=function(e){function i(){var e,t;x(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=M(this,(e=U(i)).call.apply(e,[this].concat(o)))).selectProgram=function(e){t.props.rootStore.setTimeperiodsProgram(e.value)},t}return V(i,n.a.Component),L(i,[{key:"render",value:function(){return n.a.createElement(Q,{label:gettext("Program")},n.a.createElement(_.default,{options:this.props.rootStore.timeperiodsProgramOptions,value:this.props.rootStore.selectedTimeperiodsProgram,onChange:this.selectProgram,className:"tola-react-select"}))}}]),i}())||I)||I,G=Object(c.b)("rootStore")(R=Object(c.c)(R=function(e){function i(){var e,t;x(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=M(this,(e=U(i)).call.apply(e,[this].concat(o)))).selectFrequency=function(e){t.props.rootStore.setFrequency(e.value)},t}return V(i,n.a.Component),L(i,[{key:"render",value:function(){return n.a.createElement(Q,{label:gettext("Target periods")},n.a.createElement(_.default,{options:this.props.rootStore.frequencyOptions,value:this.props.rootStore.selectedFrequency,onChange:this.selectFrequency,className:"tola-react-select"}))}}]),i}())||R)||R;function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=Object(c.b)("rootStore")(J=Object(c.c)(J=function(e){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=W(this,(e=X(i)).call.apply(e,[this].concat(o)))).setMostRecentCount=function(e){t.props.rootStore.setMostRecentCount(e.target.value)},t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,n.a.Component),t=i,(r=[{key:"render",value:function(){return n.a.createElement("div",{className:"form-row mb-3"},n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("div",{className:"form-check form-check-inline pt-1"},n.a.createElement("span",{className:"form-check-input"},n.a.createElement("input",{type:"radio",checked:this.props.rootStore.showAll,disabled:this.props.rootStore.periodCountDisabled,onChange:this.props.rootStore.setShowAll})),n.a.createElement("label",{className:"form-check-label"},gettext("Show all")))),n.a.createElement("div",{className:"col-sm-4 p-0"},n.a.createElement("div",{className:"form-check form-check-inline pt-1"},n.a.createElement("span",{className:"form-check-input"},n.a.createElement("input",{type:"radio",checked:this.props.rootStore.mostRecent,disabled:this.props.rootStore.periodCountDisabled,onChange:this.props.rootStore.setMostRecent})),n.a.createElement("label",{className:"form-check-label"},gettext("Most recent")))),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("input",{type:"number",className:"form-control",value:this.props.rootStore.mostRecentCountDisplay,disabled:this.props.rootStore.periodCountDisabled,placeholder:gettext("enter a number"),onChange:this.setMostRecentCount})))}}])&&K(t.prototype,r),o&&K(t,o),i}())||J)||J,ee=Object(c.b)("rootStore")(Object(c.c)(function(e){var t=e.url,r=e.rootStore;return n.a.createElement("div",{className:"d-flex justify-content-center mb-1"},n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return window.location.href=r[t]},disabled:!r[t],style:{width:"100%"}},gettext("View report")))})),te=function(e){var t=e.children;return n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},t)))},re=function(){return n.a.createElement(te,null,n.a.createElement("h5",{className:"card-title"},gettext("Periodic targets vs. actuals")),n.a.createElement("p",{className:"card-subtitle text-muted mb-2"},gettext("View results organized by target period for indicators that share the same target frequency")),n.a.createElement(Y,null),n.a.createElement(G,null),n.a.createElement($,null),n.a.createElement(ee,{url:"tvaURL"}))},oe=function(){return n.a.createElement(te,null,n.a.createElement("h5",{className:"card-title"},gettext("Recent progress for all indicators")),n.a.createElement("p",{className:"card-subtitle text-muted mb-2"},gettext("View the most recent two months of results. (You can customize your time periods.) This report does not include periodic targets")),n.a.createElement(B,null),n.a.createElement(ee,{url:"timeperiodsURL"}))},ne=new D(jsContext);a.a.render(n.a.createElement(c.a,{rootStore:ne},n.a.createElement(function(){return n.a.createElement("div",{className:"row"},n.a.createElement(re,null),n.a.createElement(oe,null))},null)),document.querySelector("#id_div_top_quickstart_iptt"))}},[["+aul",0,1]]]);