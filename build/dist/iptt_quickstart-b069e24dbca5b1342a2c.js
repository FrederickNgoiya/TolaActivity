(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+aul":function(e,t,r){"use strict";r.r(t);var o=r("q1tI"),n=r.n(o),i=r("i8i4"),a=r.n(i),l=r("okNM"),s=r("2vnA");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var m,f,y,h,b,d,g,v,P=function(){function r(e,t){c(this,r),this.rootStore=e,this.id=parseInt(t.id),this.name=t.name,this.frequencies=t.frequencies,this.periodDateRanges=t.periodDateRanges}return p(r,[{key:"periods",value:function(e){return e in this.periodDateRanges&&this.periodDateRanges[e]}},{key:"periodCount",value:function(e){return this.periods(e)?this.periods(e).length:0}}]),r}(),O=function(){function o(e,t){var r=this;c(this,o),this.rootStore=e,this.programs={},t.forEach(function(e){r.programs[e.id]=new P(r.rootStore,e)})}return p(o,[{key:"getProgram",value:function(e){return this.programs[e]}},{key:"programList",get:function(){return Object.values(this.programs).sort(function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})}}]),o}();function w(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function S(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(r,o,e,t,n){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,o,e)||e},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,o,i),i=null),i}var j,C,k,R={value:null,label:"---------"},I=(f=E((m=function(){function r(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),w(this,"reportType",f,this),w(this,"tvaProgramId",y,this),w(this,"timeperiodsProgramId",h,this),w(this,"frequencyId",b,this),w(this,"showAll",d,this),w(this,"mostRecent",g,this),w(this,"mostRecentCount",v,this),this.programStore=new O(this,e.programs),this.periodLabels=e.labels.targetperiods,this.iptt_url=e.iptt_url;Object(s.m)(function(){return t.tvaProgramId},function(e){null!==e&&null!==t.frequencyId&&-1==t.programStore.getProgram(e).frequencies.indexOf(t.frequencyId)&&t.setFrequency(null)})}var e,t,o;return e=r,(t=[{key:"setTVAProgram",value:function(e){null===e?this.tvaProgramId=null:(this.tvaProgramId=e,this.reportType=1)}},{key:"setTimeperiodsProgram",value:function(e){null===e?this.timeperiodsProgramId=null:(this.timeperiodsProgramId=e,this.reportType=2)}},{key:"setFrequency",value:function(e){this.frequencyId=e}},{key:"setMostRecent",value:function(){this.showAll=!1,this.mostRecent=!0}},{key:"setMostRecentCount",value:function(e){this.setMostRecent(),e=Math.min(e,this.programStore.getProgram(this.tvaProgramId).periodCount(this.frequencyId)),this.mostRecentCount=e}},{key:"setShowAll",value:function(){this.mostRecent=!1,this.showAll=!0}},{key:"timeperiodsProgramOptions",get:function(){return this.programStore.programList.map(function(e){return{value:e.id,label:e.name}})}},{key:"tvaProgramOptions",get:function(){return this.programStore.programList.filter(function(e){return 0<e.frequencies.length}).map(function(e){return{value:e.id,label:e.name}})}},{key:"frequencyOptions",get:function(){var t=this;return 1!==this.reportType||null===this.tvaProgramId?[R]:this.programStore.getProgram(this.tvaProgramId).frequencies.map(function(e){return{value:e,label:t.periodLabels[e]}})}},{key:"selectedTVAProgram",get:function(){return 1!==this.reportType||null===this.tvaProgramId?R:{value:this.tvaProgramId,label:this.programStore.getProgram(this.tvaProgramId).name}}},{key:"selectedTimeperiodsProgram",get:function(){return 2!==this.reportType||null===this.timeperiodsProgramId?R:{value:this.timeperiodsProgramId,label:this.programStore.getProgram(this.timeperiodsProgramId).name}}},{key:"selectedFrequency",get:function(){return 1!==this.reportType||null===this.tvaProgramId||null===this.frequencyId?R:{value:this.frequencyId,label:this.periodLabels[this.frequencyId]}}},{key:"periodCountDisabled",get:function(){return 1!==this.reportType||null===this.tvaProgramId||-1==[3,4,5,6,7].indexOf(this.frequencyId)}},{key:"mostRecentCountDisplay",get:function(){return!this.periodCountDisabled&&this.mostRecent?this.mostRecentCount:""}},{key:"tvaURL",get:function(){if(1!==this.reportType||null===this.tvaProgramId||null===this.frequencyId)return!1;var e="".concat(this.iptt_url).concat(this.tvaProgramId,"/targetperiods/?frequency=").concat(this.frequencyId);return 1==this.frequencyId||2==this.frequencyId?e:this.showAll?"".concat(e,"&timeframe=1"):"".concat(e,"&timeframe=2&numrecentcount=").concat(this.mostRecentCount)}},{key:"timeperiodsURL",get:function(){return 2===this.reportType&&null!==this.timeperiodsProgramId&&"".concat(this.iptt_url).concat(this.timeperiodsProgramId,"/timeperiods/")+"?frequency=7&timeframe=2&numrecentcount=2"}}])&&S(e.prototype,t),o&&S(e,o),r}()).prototype,"reportType",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E(m.prototype,"tvaProgramId",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(m.prototype,"timeperiodsProgramId",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=E(m.prototype,"frequencyId",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=E(m.prototype,"showAll",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=E(m.prototype,"mostRecent",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=E(m.prototype,"mostRecentCount",[s.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),E(m.prototype,"frequencyOptions",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"frequencyOptions"),m.prototype),E(m.prototype,"selectedTVAProgram",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"selectedTVAProgram"),m.prototype),E(m.prototype,"selectedTimeperiodsProgram",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"selectedTimeperiodsProgram"),m.prototype),E(m.prototype,"selectedFrequency",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"selectedFrequency"),m.prototype),E(m.prototype,"periodCountDisabled",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"periodCountDisabled"),m.prototype),E(m.prototype,"mostRecentCountDisplay",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"mostRecentCountDisplay"),m.prototype),E(m.prototype,"setTVAProgram",[s.d],Object.getOwnPropertyDescriptor(m.prototype,"setTVAProgram"),m.prototype),E(m.prototype,"setTimeperiodsProgram",[s.d],Object.getOwnPropertyDescriptor(m.prototype,"setTimeperiodsProgram"),m.prototype),E(m.prototype,"setFrequency",[s.d],Object.getOwnPropertyDescriptor(m.prototype,"setFrequency"),m.prototype),E(m.prototype,"setMostRecent",[s.d],Object.getOwnPropertyDescriptor(m.prototype,"setMostRecent"),m.prototype),E(m.prototype,"setMostRecentCount",[s.d],Object.getOwnPropertyDescriptor(m.prototype,"setMostRecentCount"),m.prototype),E(m.prototype,"setShowAll",[s.d],Object.getOwnPropertyDescriptor(m.prototype,"setShowAll"),m.prototype),E(m.prototype,"tvaURL",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"tvaURL"),m.prototype),E(m.prototype,"timeperiodsURL",[s.e],Object.getOwnPropertyDescriptor(m.prototype,"timeperiodsURL"),m.prototype),m),q=r("y2Vs");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),e}function _(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M,U=function(e){return n.a.createElement("div",{className:"form-row mb-3"},n.a.createElement("label",{className:"col-form-label text-uppercase"},e.label),e.children)},x=Object(l.b)("labels","rootStore")(j=Object(l.c)(j=function(e){function i(){var e,t;D(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_(this,(e=z(i)).call.apply(e,[this].concat(o)))).selectProgram=function(e){t.props.rootStore.setTVAProgram(e.value)},t}return F(i,n.a.Component),A(i,[{key:"render",value:function(){return n.a.createElement(U,{label:this.props.labels.programSelect},n.a.createElement(q.default,{options:this.props.rootStore.tvaProgramOptions,value:this.props.rootStore.selectedTVAProgram,onChange:this.selectProgram,className:"iptt-react-select"}))}}]),i}())||j)||j,V=Object(l.b)("labels","rootStore")(C=Object(l.c)(C=function(e){function i(){var e,t;D(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_(this,(e=z(i)).call.apply(e,[this].concat(o)))).selectProgram=function(e){t.props.rootStore.setTimeperiodsProgram(e.value)},t}return F(i,n.a.Component),A(i,[{key:"render",value:function(){return n.a.createElement(U,{label:this.props.labels.programSelect},n.a.createElement(q.default,{options:this.props.rootStore.timeperiodsProgramOptions,value:this.props.rootStore.selectedTimeperiodsProgram,onChange:this.selectProgram,className:"iptt-react-select"}))}}]),i}())||C)||C,J=Object(l.b)("labels","rootStore")(k=Object(l.c)(k=function(e){function i(){var e,t;D(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_(this,(e=z(i)).call.apply(e,[this].concat(o)))).selectFrequency=function(e){t.props.rootStore.setFrequency(e.value)},t}return F(i,n.a.Component),A(i,[{key:"render",value:function(){return n.a.createElement(U,{label:this.props.labels.periodSelect},n.a.createElement(q.default,{options:this.props.rootStore.frequencyOptions,value:this.props.rootStore.selectedFrequency,onChange:this.selectFrequency,className:"iptt-react-select"}))}}]),i}())||k)||k;function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=Object(l.b)("labels","rootStore")(M=Object(l.c)(M=function(e){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=H(this,(e=K(i)).call.apply(e,[this].concat(o)))).setMostRecentCount=function(e){t.props.rootStore.setMostRecentCount(e.target.value)},t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,n.a.Component),t=i,(r=[{key:"render",value:function(){return n.a.createElement("div",{className:"form-row mb-3"},n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("div",{className:"form-check form-check-inline pt-1"},n.a.createElement("span",{className:"form-check-input"},n.a.createElement("input",{type:"radio",checked:this.props.rootStore.showAll,disabled:this.props.rootStore.periodCountDisabled,onChange:this.props.rootStore.setShowAll})),n.a.createElement("label",{className:"form-check-label"},this.props.labels.showAll))),n.a.createElement("div",{className:"col-sm-4 p-0"},n.a.createElement("div",{className:"form-check form-check-inline pt-1"},n.a.createElement("span",{className:"form-check-input"},n.a.createElement("input",{type:"radio",checked:this.props.rootStore.mostRecent,disabled:this.props.rootStore.periodCountDisabled,onChange:this.props.rootStore.setMostRecent})),n.a.createElement("label",{className:"form-check-label"},this.props.labels.mostRecent))),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("input",{type:"number",className:"form-control",value:this.props.rootStore.mostRecentCountDisplay,disabled:this.props.rootStore.periodCountDisabled,placeholder:this.props.labels.mostRecentPlaceholder,onChange:this.setMostRecentCount})))}}])&&G(t.prototype,r),o&&G(t,o),i}())||M)||M,X=Object(l.b)("labels","rootStore")(Object(l.c)(function(e){var t=e.url,r=e.labels,o=e.rootStore;return n.a.createElement("div",{className:"d-flex justify-content-center mb-1"},n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return window.location.href=o[t]},disabled:!o[t],style:{width:"100%"}},r.submitButton))})),Y=function(e){var t=e.children;return n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},t)))},Z=Object(l.b)("labels")(Object(l.c)(function(e){var t=e.labels;return n.a.createElement(Y,null,n.a.createElement("h5",{className:"card-title"},t.tvaFilterTitle),n.a.createElement("p",{className:"card-subtitle text-muted mb-2"},t.tvaFilterSubtitle),n.a.createElement(x,null),n.a.createElement(J,null),n.a.createElement(W,null),n.a.createElement(X,{url:"tvaURL"}))})),$=Object(l.b)("labels")(Object(l.c)(function(e){var t=e.labels;return n.a.createElement(Y,null,n.a.createElement("h5",{className:"card-title"},t.timeperiodsFilterTitle),n.a.createElement("p",{className:"card-subtitle text-muted mb-2"},t.timeperiodsFilterSubtitle),n.a.createElement(V,null),n.a.createElement(X,{url:"timeperiodsURL"}))})),ee=jsContext.labels,te=new I(jsContext);a.a.render(n.a.createElement(l.a,{labels:ee,rootStore:te},n.a.createElement(function(){return n.a.createElement("div",{className:"row"},n.a.createElement(Z,null),n.a.createElement($,null))},null)),document.querySelector("#id_div_top_quickstart_iptt"))}},[["+aul",0,1]]]);