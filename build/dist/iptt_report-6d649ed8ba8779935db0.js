(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{mYfJ:function(e,t,r){"use strict";r.r(t);var n,o,i,a,l,s,c,u,p,d,f,m,h,y,b,g,v,P,O,E=r("q1tI"),S=r.n(E),F=r("i8i4"),w=r.n(F),j=r("wgi2"),I=r("0pHI"),k=r("okNM"),q=r("2vnA");function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function D(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e}var L,M="---------",z=function(){function t(e){C(this,t),this.url=e}return R(t,[{key:"callForData",value:function(e,t,r){var n={programId:e,frequency:t,reportType:r?"tva":"timeperiods"};return $.get(this.url,n)}}]),t}(),U=(o=D((n=function(){function t(e){C(this,t),T(this,"timeperiodsData",o,this),T(this,"tvaData",i,this),T(this,"id",a,this),this.program=e}return R(t,[{key:"loadData",value:function(e){this.id=e.id,this.pk=e.id,this.sortIndex=e.sortIndex,this.number=e.number,this.name=e.name,this.level=e.level,this.levelId=e.levelpk,this.sites=e.sites,this.types=e.indicatorTypes,this.sector=e.sector,this.frequency=e.frequency,this.unitOfMeasure=e.unitOfMeasure,this.cumulative=e.cumulative,this.unitType=e.unitType,this.baseline=e.baseline,this.lopTarget=e.lopTarget,this.lopActual=e.lopActual,this.lopMet=e.lopMet,e.reportData&&this.loadReportData(e.reportData)}},{key:"loadReportData",value:function(e){var o=this;e.timeperiods&&Object.entries(e.timeperiods).forEach(function(e){var t=x(e,2),r=t[0],n=t[1];o.timeperiodsData[r]=n}),e.tva&&Object.entries(e.tva).forEach(function(e){var t=x(e,2),r=t[0],n=t[1];o.tvaData[r]=n})}},{key:"indicatorData",get:function(){var e=String(this.program.rootStore.selectedFrequencyId),t=this.program.rootStore.isTVA?this.tvaData:this.timeperiodsData;return!!t[e]&&t[e].slice(this.program.rootStore.startPeriod,parseInt(this.program.rootStore.endPeriod)+1)}},{key:"isPercent",get:function(){return"%"==this.unitType}}]),t}()).prototype,"timeperiodsData",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=D(n.prototype,"tvaData",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=D(n.prototype,"id",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D(n.prototype,"indicatorData",[q.e],Object.getOwnPropertyDescriptor(n.prototype,"indicatorData"),n.prototype),D(n.prototype,"isPercent",[q.e],Object.getOwnPropertyDescriptor(n.prototype,"isPercent"),n.prototype),n),V=(s=D((l=function(){function r(e,t){C(this,r),T(this,"indicators",s,this),T(this,"reportsLoaded",c,this),this.rootStore=e,this.id=t.id,this.name=t.name,this.frequencies=t.frequencies,this.periodDateRanges=t.periodDateRanges}return R(r,[{key:"periods",value:function(e){return e in this.periodDateRanges&&this.periodDateRanges[e]}},{key:"periodCount",value:function(e){return this.periods(e)?this.periods(e).length:0}},{key:"currentPeriod",value:function(e){var t=this.periods(e);return t?7==e?t.filter(function(e){return!e[4]}).length-1:t.filter(function(e){return!e[2]}).length-1:null}},{key:"loadData",value:function(e){var t=this;e.programId,this.id,null===this.indicators&&(this.indicators={}),e.indicators.forEach(function(e){null==t.indicators[e.id]&&(t.indicators[e.id]=new U(t)),t.indicators[e.id].loadData(e)}),this.reportsLoaded[e.reportType].push(String(e.reportFrequency))}},{key:"reportIndicators",get:function(){var n=this;return!(!this.indicators||0==this.indicators.length)&&(!(this.rootStore.isTVA&&-1==this.reportsLoaded.tva.indexOf(String(this.rootStore.selectedFrequencyId))||!this.rootStore.isTVA&&-1==this.reportsLoaded.timeperiods.indexOf(String(this.rootStore.selectedFrequencyId)))&&Object.entries(this.indicators).filter(function(e){var t=x(e,2),r=(t[0],t[1]);return!n.rootStore.isTVA||r.frequency==n.rootStore.selectedFrequencyId}).map(function(e){var t=x(e,2);t[0];return t[1]}).sort(function(e,t){return e.sortIndex-t.sortIndex}))}},{key:"reportLevels",get:function(){return this.reportIndicators&&0!=this.reportIndicators.length?_(new Set(this.reportIndicators.filter(function(e){return null!==e.levelId}).map(function(e){return{value:e.levelId,label:e.level}}).map(JSON.stringify))).map(JSON.parse):[]}},{key:"reportSites",get:function(){if(!this.reportIndicators||0==this.reportIndicators.length)return[];var e=this.reportIndicators.map(function(e){return e.sites}).reduce(function(e,t){return e.concat(t)}).map(function(e){return{value:e.pk,label:e.name}});return _(new Set(e.map(JSON.stringify))).map(JSON.parse)}},{key:"reportTypes",get:function(){if(!this.reportIndicators||0==this.reportIndicators.length)return[];var e=this.reportIndicators.map(function(e){return e.types}).reduce(function(e,t){return e.concat(t)}).map(function(e){return{value:e.pk,label:e.name}});return _(new Set(e.map(JSON.stringify))).map(JSON.parse)}},{key:"reportSectors",get:function(){return this.reportIndicators&&0!=this.reportIndicators.length?_(new Set(this.reportIndicators.map(function(e){return JSON.stringify({value:e.sector.pk,label:e.sector.name})}))).map(JSON.parse):[]}},{key:"reportIndicatorsOptions",get:function(){return this.reportIndicators&&0!=this.reportIndicators.length?this.reportIndicators.map(function(e){return{value:e.pk,label:e.name}}):[]}}]),r}()).prototype,"indicators",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=D(l.prototype,"reportsLoaded",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{tva:[],timeperiods:[]}}}),D(l.prototype,"loadData",[q.d],Object.getOwnPropertyDescriptor(l.prototype,"loadData"),l.prototype),D(l.prototype,"reportIndicators",[q.e],Object.getOwnPropertyDescriptor(l.prototype,"reportIndicators"),l.prototype),D(l.prototype,"reportLevels",[q.e],Object.getOwnPropertyDescriptor(l.prototype,"reportLevels"),l.prototype),D(l.prototype,"reportSites",[q.e],Object.getOwnPropertyDescriptor(l.prototype,"reportSites"),l.prototype),D(l.prototype,"reportTypes",[q.e],Object.getOwnPropertyDescriptor(l.prototype,"reportTypes"),l.prototype),D(l.prototype,"reportSectors",[q.e],Object.getOwnPropertyDescriptor(l.prototype,"reportSectors"),l.prototype),D(l.prototype,"reportIndicatorsOptions",[q.e],Object.getOwnPropertyDescriptor(l.prototype,"reportIndicatorsOptions"),l.prototype),l),W=function(){function n(e,t){var r=this;C(this,n),this.rootStore=e,this.programs={},t.forEach(function(e){r.programs[e.id]=new V(r.rootStore,e)})}return R(n,[{key:"getProgram",value:function(e){return this.programs[e]}}]),n}(),J=(p=D((u=function(){function n(e,t){var r,a=this;C(this,n),T(this,"selectedProgram",p,this),T(this,"selectedFrequencyId",d,this),T(this,"startPeriod",f,this),T(this,"endPeriod",m,this),T(this,"nullRecent",h,this),T(this,"levelFilters",y,this),T(this,"siteFilters",b,this),T(this,"typeFilters",g,this),T(this,"sectorFilters",v,this),T(this,"indicatorFilters",P,this),T(this,"noIndicatorsForFrequency",O,this),this.reportType=null,this.router=null,this.currentPeriod=null,this.loading=!1,this.init=function(e){var t=(a.router=e).getState().params,r=!1;if(a.setProgramId(t.programId),a.setReportType(t.reportType),(t.timeperiods||t.targetperiods)&&(t.frequency=t.timeperiods||t.targetperiods,delete t.timeperiods,delete t.targetperiods,r=!0),a.setFrequencyId(t.frequency),1==t.timeframe)t.start=0,t.end=a.selectedProgram.periodDateRanges[t.frequency].length-1,delete t.timeframe,r=!0;else if(2==t.timeframe){var n=t.numrecentperiods||2;t.end=a.selectedProgram.currentPeriod(t.frequency),t.start=t.end-n+1,delete t.timeframe,delete t.numrecentperiods,r=!0}else void 0!==t.start&&void 0!==t.end||(t.start=0,t.end=a.selectedProgram.periodDateRanges[t.frequency].length-1,delete t.timeframe,delete t.numrecentperiods,delete t.start_period,delete t.end_period,r=!0);a.setStartPeriod(t.start),a.setEndPeriod(t.end),r&&e.navigate(e.getState().name,t,{reload:!0})},this.updateUrl=function(e,t){var r=a.router.getState().params;if(null!==t&&r[e]!=t){var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){N(t,e,r[e])})}return t}({},r,N({},e,t));a.router.navigate(a.router.getState().name,n,{replace:!0})}},this.updateRoute=function(e){e.previousRoute,e.route},this.callForData=function(){a.loading||(a.loading=!0,a.reportAPI.callForData(a.selectedProgram.id,a.selectedFrequencyId,a.isTVA).then(function(e){a.selectedProgram.loadData(e),a.updateFilters(),a.loading=!1}))},this.updateFilters=function(){var e=a.router.getState().params;if(e.frequency&&a.isTVA&&-1==a.selectedProgram.frequencies.indexOf(parseInt(e.frequency))&&(a.noIndicatorsForFrequency=!0,a.setFrequencyId(null)),e.levels){var t=e.levels instanceof Array?e.levels.map(Number):[e.levels].map(Number);a.levelFilters=a.selectedProgram.reportLevels.filter(function(e){return-1!=t.indexOf(e.value)}),a.updateUrl("levels",a.levelFilters.map(function(e){return e.value}))}if(e.sites){var r=e.sites instanceof Array?e.sites.map(Number):[e.sites].map(Number);a.siteFilters=a.selectedProgram.reportSites.filter(function(e){return-1!=r.indexOf(e.value)}),a.updateUrl("sites",a.siteFilters.map(function(e){return e.value}))}if(e.types){var n=e.types instanceof Array?e.types.map(Number):[e.types].map(Number);a.typeFilters=a.selectedProgram.reportTypes.filter(function(e){return-1!=n.indexOf(e.value)}),a.updateUrl("types",a.typeFilters.map(function(e){return e.value}))}if(e.sectors){var o=e.sectors instanceof Array?e.sectors.map(Number):[e.sectors].map(Number);a.sectorFilters=a.selectedProgram.reportSectors.filter(function(e){return-1!=o.indexOf(e.value)}),a.updateUrl("sectors",a.sectorFilters.map(function(e){return e.value}))}if(e.indicators){var i=e.indicators instanceof Array?e.indicators.map(Number):[e.indicators].map(Number);a.indicatorFilters=a.selectedProgram.reportIndicatorsOptions.filter(function(e){return-1!=i.indexOf(e.value)}),a.updateUrl("indicators",a.indicatorFilters.map(function(e){return e.value}))}},this.getPeriodLabel=function(e,t){if(7==a.selectedFrequencyId){var r=x(e,4);return{title:r[2]+" "+r[3],subtitle:""}}if(2==a.selectedFrequencyId)return{title:e[2].toUpperCase(),subtitle:""};var n=x(e,2),o=n[0],i=n[1];return{title:a._periodLabels.names[a.selectedFrequencyId]+" "+(t+1),subtitle:o+" - "+i}},this.setShowAll=function(){a.setStartPeriod(0),a.setEndPeriod(a.selectedProgram.periodCount(a.selectedFrequencyId)-1)},this.setMostRecent=function(e){if(""===e)a.nullRecent=!0;else if(null!==e){var t=Math.max(a.currentPeriod-e+1,0);a.setEndPeriod(a.currentPeriod),a.setStartPeriod(t)}},this.setLevelFilters=function(e){a.levelFilters=e,a.updateUrl("levels",e.map(function(e){return e.value}))},this.setSiteFilters=function(e){a.siteFilters=e,a.updateUrl("sites",e.map(function(e){return e.value}))},this.setTypeFilters=function(e){a.typeFilters=e,a.updateUrl("types",e.map(function(e){return e.value}))},this.setSectorFilters=function(e){a.sectorFilters=e,a.updateUrl("sectors",e.map(function(e){return e.value}))},this.setIndicatorFilters=function(e){a.indicatorFilters=e,a.updateUrl("indicators",e.map(function(e){return e.value}))},this.programStore=new W(this,e.programs),this.reportAPI=t,this._periodLabels=(N(r={},2,e.labels.timeperiods),N(r,1,e.labels.targetperiods),N(r,"names",e.labels.periodNames),r)}return R(n,[{key:"setReportType",value:function(e){this.reportType="timeperiods"==e?2:1}},{key:"setProgramId",value:function(e){null===e?this.selectedProgram=null:null!=this.selectedProgram&&this.selectedProgram.id==e||(this.noIndicatorsForFrequency=!1,this.updateUrl("programId",e),this.selectedProgram=this.programStore.getProgram(e),this.isTVA&&this.selectedFrequencyId&&-1==this.selectedProgram.frequencies.indexOf(parseInt(this.selectedFrequencyId))?(this.noIndicatorsForFrequency=!0,this.setFrequencyId(null)):null!==this.selectedFrequencyId&&(this.setFrequencyId(this.selectedFrequencyId),this.updatePeriods()))}},{key:"setFrequencyId",value:function(e){null===e?this.selectedFrequencyId=null:this.selectedFrequencyId!=e&&(this.selectedFrequencyId=e,this.updateUrl("frequency",e),this.updatePeriods(),this.updateCurrentPeriod())}},{key:"updateCurrentPeriod",value:function(){this.currentPeriod=this.selectedProgram.currentPeriod(this.selectedFrequencyId)}},{key:"updatePeriods",value:function(){2==this.selectedFrequencyId?(this.setStartPeriod(0),this.setEndPeriod(1)):(""!=this.startPeriod&&this.setStartPeriod(this.startPeriod),""!=this.endPeriod&&this.setEndPeriod(this.endPeriod))}},{key:"setStartPeriod",value:function(e){2==this.selectedFrequencyId?(this.startPeriod=0,this.updateUrl("start",this.startPeriod)):this.selectedFrequencyId&&this.selectedProgram&&(e=null!==e?e<this.selectedProgram.periodCount(this.selectedFrequencyId)?e:0:"",this.startPeriod=e,this.updateUrl("start",this.startPeriod))}},{key:"setEndPeriod",value:function(e){2==this.selectedFrequencyId?(this.endPeriod=1,this.updateUrl("end",this.endPeriod)):this.selectedFrequencyId&&this.selectedProgram&&(this.nullRecent=!1,e=null!==e?e<this.selectedProgram.periodCount(this.selectedFrequencyId)?e:this.selectedProgram.periodCount(this.selectedFrequencyId)-1:"",this.endPeriod=e,this.updateUrl("end",this.endPeriod))}},{key:"pinData",get:function(){if(!this.selectedProgram)return!1;var e=window.location.search;return e=e&&0<e.length&&"?"==e[0]?e.slice(1):e,!!this.selectedProgram&&{program:this.selectedProgram.id,report_type:this.router.getState().params.reportType,query_string:e}}},{key:"programPageUrl",get:function(){return!!this.selectedProgram&&"/program/"+this.selectedProgram.id+"/"}},{key:"isTVA",get:function(){return 1===this.reportType}},{key:"reportIndicators",get:function(){var t=this;if(null===this.selectedProgram||!this.selectedFrequencyId)return[];if(this.selectedProgram.reportIndicators){var e=this.selectedProgram.reportIndicators;if(this.levelFilters&&0<this.levelFilters.length&&(e=e.filter(function(e){return-1!=t.levelFilters.map(function(e){return e.value}).indexOf(e.levelId)})),this.siteFilters&&0<this.siteFilters.length){var r=this.siteFilters.map(function(e){return e.value});e=e.filter(function(e){return 0<e.sites.map(function(e){return e.pk}).filter(function(e){return r.includes(e)}).length})}if(this.typeFilters&&0<this.typeFilters.length){var n=this.typeFilters.map(function(e){return e.value});e=e.filter(function(e){return 0<e.types.map(function(e){return e.pk}).filter(function(e){return n.includes(e)}).length})}return this.sectorFilters&&0<this.sectorFilters.length&&(e=e.filter(function(e){return-1!=t.sectorFilters.map(function(e){return e.value}).indexOf(e.sector.pk)})),this.indicatorFilters&&0<this.indicatorFilters.length&&(e=e.filter(function(e){return-1!=t.indicatorFilters.map(function(e){return e.value}).indexOf(e.pk)})),e}return this.callForData(),!1}},{key:"selectedProgramOption",get:function(){return null===this.selectedProgram?{value:null,label:M}:{value:this.selectedProgram.id,label:this.selectedProgram.name}}},{key:"programOptions",get:function(){return Object.entries(this.programStore.programs).map(function(e){var t=x(e,2);return{value:t[0],label:t[1].name}})}},{key:"selectedFrequencyOption",get:function(){return null===this.selectedProgram||null===this.selectedFrequencyId?{value:null,label:M}:{value:this.selectedFrequencyId,label:this._periodLabels[this.reportType][this.selectedFrequencyId]}}},{key:"frequencyOptions",get:function(){var t=this;return null===this.selectedProgram?[{value:null,label:M}]:2==this.reportType?Object.entries(this._periodLabels[2]).map(function(e){var t=x(e,2);return{value:t[0],label:t[1]}}):this.selectedProgram.frequencies.map(function(e){return{value:e,label:t._periodLabels[1][e]}})}},{key:"startPeriodLabel",get:function(){return this.selectedProgram&&this.selectedFrequencyId&&null!==this.startPeriod&&""!==this.startPeriod&&this.startPeriod<=this.selectedProgram.periodCount(this.selectedFrequencyId)?this.selectedProgram.periods(this.selectedFrequencyId)[this.startPeriod][0]:""}},{key:"endPeriodLabel",get:function(){return this.selectedProgram&&this.selectedFrequencyId&&null!==this.endPeriod&&""!==this.endPeriod&&this.endPeriod<this.selectedProgram.periodCount(this.selectedFrequencyId)?this.selectedProgram.periods(this.selectedFrequencyId)[this.endPeriod][1]:""}},{key:"selectedPeriods",get:function(){return this.selectedProgram&&this.selectedFrequencyId&&1!==this.selectedFrequencyId&&null!==this.startPeriod&&null!==this.endPeriod?this.selectedProgram.periods(this.selectedFrequencyId).slice(this.startPeriod,parseInt(this.endPeriod)+1):[]}},{key:"periodOptions",get:function(){var o=this;if(null===this.selectedProgram||null===this.selectedFrequencyId)return[{value:null,label:M}];if(7!=this.selectedFrequencyId)return 2==this.selectedFrequencyId||1==this.selectedFrequencyId?this.selectedProgram.periods(this.selectedFrequencyId).map(function(e,t){return{value:t,label:e[t]}}):this.selectedProgram.periods(this.selectedFrequencyId).map(function(e,t){var r=o.getPeriodLabel(e,t);return{value:t,label:r.title+" ("+r.subtitle+")"}});var i={};return this.selectedProgram.periodDateRanges[7].forEach(function(e,t){var r=o.getPeriodLabel(e,t),n=e[3];n in i||(i[n]=[]),i[n].push({value:t,label:r.title})}),i}},{key:"timeframeEnabled",get:function(){return this.selectedProgram&&2!=this.selectedFrequencyId&&1!=this.selectedFrequencyId}},{key:"showAll",get:function(){return this.timeframeEnabled&&0==this.startPeriod&&this.endPeriod==this.selectedProgram.periodCount(this.selectedFrequencyId)-1}},{key:"mostRecent",get:function(){return this.nullRecent?"":this.timeframeEnabled&&!this.showAll&&null!==this.currentPeriod&&this.endPeriod==this.currentPeriod?this.endPeriod-this.startPeriod+1:null}}]),n}()).prototype,"selectedProgram",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=D(u.prototype,"selectedFrequencyId",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=D(u.prototype,"startPeriod",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=D(u.prototype,"endPeriod",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=D(u.prototype,"nullRecent",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=D(u.prototype,"levelFilters",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=D(u.prototype,"siteFilters",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=D(u.prototype,"typeFilters",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=D(u.prototype,"sectorFilters",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=D(u.prototype,"indicatorFilters",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=D(u.prototype,"noIndicatorsForFrequency",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D(u.prototype,"pinData",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"pinData"),u.prototype),D(u.prototype,"programPageUrl",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"programPageUrl"),u.prototype),D(u.prototype,"reportIndicators",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"reportIndicators"),u.prototype),D(u.prototype,"selectedProgramOption",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"selectedProgramOption"),u.prototype),D(u.prototype,"selectedFrequencyOption",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"selectedFrequencyOption"),u.prototype),D(u.prototype,"frequencyOptions",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"frequencyOptions"),u.prototype),D(u.prototype,"startPeriodLabel",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"startPeriodLabel"),u.prototype),D(u.prototype,"endPeriodLabel",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"endPeriodLabel"),u.prototype),D(u.prototype,"selectedPeriods",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"selectedPeriods"),u.prototype),D(u.prototype,"periodOptions",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"periodOptions"),u.prototype),D(u.prototype,"timeframeEnabled",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"timeframeEnabled"),u.prototype),D(u.prototype,"showAll",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"showAll"),u.prototype),D(u.prototype,"mostRecent",[q.e],Object.getOwnPropertyDescriptor(u.prototype,"mostRecent"),u.prototype),u);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q,X,Z=function(e){var t={};return e.minWidth&&(t.minWidth=e.minWidth),S.a.createElement("th",{scope:"col",className:"align-bottom text-uppercase "+(e.classes||""),style:t},e.cellText)},ee=Object(k.b)("labels","rootStore")(L=Object(k.c)(L=function(e){function i(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=B(this,(e=G(i)).call.apply(e,[this].concat(r)))).getDateRangeHeaders=function(){var r=[],e=n.props.rootStore.selectedPeriods;return e&&(n.props.rootStore.isTVA?e.forEach(function(e,t){r.push(S.a.createElement(Z,{classes:"text-right",minWidth:"110px",key:t+"a",cellText:n.props.labels.columnHeaders.target})),r.push(S.a.createElement(Z,{classes:"text-right",minWidth:"110px",key:t+"b",cellText:n.props.labels.columnHeaders.actual})),r.push(S.a.createElement(Z,{classes:"text-right",minWidth:"110px",key:t+"c",cellText:n.props.labels.columnHeaders.met}))}):e.forEach(function(e,t){r.push(S.a.createElement(Z,{classes:"text-right",key:t,cellText:n.props.labels.columnHeaders.actual}))})),r},n}var t,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(i,S.a.Component),t=i,(r=[{key:"render",value:function(){var e=this.props.labels.columnHeaders;return S.a.createElement("tr",null,S.a.createElement(Z,{minWidth:"80px",cellText:e.number}),S.a.createElement(Z,{minWidth:"600px",classes:"td-no-side-borders",cellText:e.indicator}),S.a.createElement(Z,{classes:"td-no-side-borders"}),S.a.createElement(Z,{minWidth:"90px",cellText:e.level}),S.a.createElement(Z,{minWidth:"250px",cellText:e.uom}),S.a.createElement(Z,{cellText:e.change}),S.a.createElement(Z,{minWidth:"130px",cellText:e.cumulative}),S.a.createElement(Z,{minWidth:"50px",cellText:e.numType}),S.a.createElement(Z,{cellText:e.baseline}),S.a.createElement(Z,{minWidth:"110px",classes:"text-right td-no-side-borders",cellText:e.target}),S.a.createElement(Z,{minWidth:"110px",classes:"text-right td-no-side-borders",cellText:e.actual}),S.a.createElement(Z,{minWidth:"110px",classes:"text-right td-no-side-borders",cellText:e.met}),this.getDateRangeHeaders())}}])&&Y(t.prototype,r),n&&Y(t,n),i}())||L)||L,te=Object(k.b)("labels","rootStore")(Object(k.c)(function(e){var n,t,r=e.labels,o=e.rootStore;return S.a.createElement("thead",{className:"thead-light"},S.a.createElement("tr",null,S.a.createElement("td",{colSpan:"9",id:"id_td_iptt_program_name",className:"lopCols align-bottom pt-2"},S.a.createElement("h5",{className:"m-0"},S.a.createElement("strong",null,o.selectedProgram.name))),S.a.createElement("td",{scope:"colgroup",colSpan:"3",className:"text-center align-bottom text-uppercase"},r.columnHeaders.lop),(n=[],(t=o.selectedPeriods)&&t.forEach(function(e,t){t+=parseInt(o.startPeriod);var r=o.getPeriodLabel(e,t);n.push(S.a.createElement("td",{scope:"col",colSpan:o.isTVA?"3":"1",className:"text-center lopCols text-nowrap align-bottom"+(7==o.selectedFrequencyId?" text-uppercase":""),key:t}," ",r.title,S.a.createElement("br",null),S.a.createElement("small",null,r.subtitle)))}),n)),S.a.createElement(ee,null))}));function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t,r){return t&&oe(e.prototype,t),r&&oe(e,r),e}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var pe,de,fe,me,he,ye,be,ge,ve,Pe,Oe="—",Ee=Object(k.c)(function(e){return S.a.createElement("td",ue({className:"td-no-side-borders"},e),e.children)}),Se=Object(k.c)(function(e){var t=e.target,r=e.value,n=e.isPercent,o=r&&t&&0!=t?String(Math.round(r/t*1e3)/10)+"%":Oe,i=r?String(Math.round(r))+(n?"%":""):Oe,a=t?String(Math.round(t))+(n?"%":""):Oe;return S.a.createElement(S.a.Fragment,null,S.a.createElement("td",{align:"right"},a),S.a.createElement("td",{align:"right"},i),S.a.createElement("td",{align:"right"},o))}),Fe=Object(k.b)("rootStore")(Q=Object(k.c)(Q=function(e){function i(){var e,r;ne(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=ae(this,(e=le(i)).call.apply(e,[this].concat(n)))).getPeriodValues=function(){return r.props.indicator.indicatorData?r.props.rootStore.isTVA?r.props.indicator.indicatorData.map(function(e,t){return S.a.createElement(Se,ue({key:t,isPercent:r.props.indicator.isPercent},e))}):r.props.indicator.indicatorData.map(function(e,t){return S.a.createElement("td",{key:t,align:"right"},e?String(Math.round(e))+(r.props.indicator.isPercent?"%":""):Oe)}):S.a.createElement("td",{key:r.props.index},"Loading")},r}return se(i,S.a.Component),ie(i,[{key:"render",value:function(){var e=this.props.indicator;if(null===e.id)return S.a.createElement(we,null);var t=S.a.createElement("button",{type:"button",className:"btn btn-link p-1 indicator-ajax-popup indicator-data","data-indicatorid":e.id,"data-container":"body","data-trigger":"focus","data-toggle":"popover","data-placement":"bottom"},S.a.createElement("i",{className:"fas fa-table"})),r=S.a.createElement("a",{href:"#",className:"indicator-link float-right"},S.a.createElement("i",{className:"fas fa-cog"})),n=e.baseline?String(e.baseline)+(e.isPercent?"%":""):Oe,o=e.lopTarget?String(Math.round(e.lopTarget))+(e.isPercent?"%":""):Oe,i=e.lopActual?e.isPercent?String(Math.round(10*e.lopActual)/10)+"%":String(Math.round(e.lopActual)):Oe,a=e.lopMet?String(Math.round(1e3*e.lopMet)/10)+"%":Oe;return S.a.createElement("tr",null,S.a.createElement(Ee,null,e.number),S.a.createElement(Ee,null,t,"  ",e.name),S.a.createElement(Ee,null,r),S.a.createElement(Ee,null,e.level),S.a.createElement(Ee,null,e.unitOfMeasure),S.a.createElement(Ee,{align:"right"},e.directionOfChange),S.a.createElement(Ee,null,e.cumulative),S.a.createElement(Ee,null,e.unitType),S.a.createElement(Ee,{align:"right"},n),S.a.createElement(Ee,{align:"right"},o),S.a.createElement(Ee,{align:"right"},i),S.a.createElement(Ee,{align:"right"},a),this.getPeriodValues())}}]),i}())||Q)||Q,we=function(){return S.a.createElement("tr",null,S.a.createElement("td",null,"Loading"))},je=Object(k.b)("labels")(function(e){var t=e.labels;return S.a.createElement("tr",null,S.a.createElement("td",{colSpan:"8"},t.noIndicatorsForFrequency))}),Ie=Object(k.b)("rootStore")(Object(k.c)(function(e){var t=e.rootStore,r=t.reportIndicators&&0<t.reportIndicators.length?t.reportIndicators.map(function(e,t){return S.a.createElement(Fe,{indicator:e,key:t})}):t.noIndicatorsForFrequency?S.a.createElement(je,null):S.a.createElement(we,null);return S.a.createElement("tbody",null,r)})),ke=Object(k.b)("labels","rootStore")(X=Object(k.c)(X=function(e){function t(){return ne(this,t),ae(this,le(t).apply(this,arguments))}return se(t,S.a.Component),ie(t,[{key:"render",value:function(){return S.a.createElement("table",{className:"table table-sm table-bordered table-hover",id:"iptt_table"},S.a.createElement("colgroup",{scope:"col",span:"9"}),S.a.createElement("colgroup",{scope:"col",span:"3",className:"lopCols"}),S.a.createElement("colgroup",{scope:"col",span:this.props.rootStore.selectedPeriods.length}),S.a.createElement(te,null),S.a.createElement(Ie,null))}}]),t}())||X)||X,qe=r("y2Vs"),Ne=r("VCnP"),_e=r.n(Ne);function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t,r){return t&&Ce(e.prototype,t),r&&Ce(e,r),e}function Re(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue,Ve,We,Je,He,Ye,$e,Be,Ge=function(e){return S.a.createElement("div",{className:"form-row mb-3"},S.a.createElement("label",{className:"col-form-label text-uppercase"},e.label),e.children)},Ke=Object(k.b)("labels","rootStore")(pe=Object(k.c)(pe=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).selectProgram=function(e){t.props.rootStore.setProgramId(e.value)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement(Ge,{label:this.props.labels.programSelect},S.a.createElement(qe.default,{options:this.props.rootStore.programOptions,value:this.props.rootStore.selectedProgramOption,onChange:this.selectProgram,className:"iptt-react-select"}))}}]),i}())||pe)||pe,Qe=Object(k.b)("labels","rootStore")(de=Object(k.c)(de=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).selectFrequency=function(e){t.props.rootStore.setFrequencyId(e.value)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){var e=this.props.rootStore.isTVA?this.props.labels.periodSelect.tva:this.props.labels.periodSelect.timeperiods;return S.a.createElement(Ge,{label:e},S.a.createElement(qe.default,{options:this.props.rootStore.frequencyOptions,value:this.props.rootStore.selectedFrequencyOption,onChange:this.selectFrequency,className:"iptt-react-select"}))}}]),i}())||de)||de,Xe=Object(k.b)("rootStore")(fe=Object(k.c)((Ue=(me=function(e){function t(){return De(this,t),Re(this,Le(t).apply(this,arguments))}return Me(t,S.a.Component),Ae(t,[{key:"render",value:function(){return S.a.createElement(Ge,{label:this.props.label},S.a.createElement("select",{className:"form-control",value:this.props.value,onChange:this.props.onChange,disabled:2==this.props.rootStore.selectedFrequencyId||1==this.props.rootStore.selectedFrequencyId},this.options))}},{key:"options",get:function(){return 7==this.props.rootStore.selectedFrequencyId?Object.entries(this.props.rootStore.periodOptions).map(function(e,t){var r=xe(e,2),n=r[0],o=r[1];return S.a.createElement("optgroup",{label:n,key:t},o.map(function(e){return S.a.createElement("option",{value:e.value,key:e.value},e.label)}))}):this.props.rootStore.periodOptions.map(function(e){return S.a.createElement("option",{value:e.value,key:e.value},e.label)})}}]),t}()).prototype,Ve="options",We=[q.e],Je=Object.getOwnPropertyDescriptor(me.prototype,"options"),He=me.prototype,Ye={},Object.keys(Je).forEach(function(e){Ye[e]=Je[e]}),Ye.enumerable=!!Ye.enumerable,Ye.configurable=!!Ye.configurable,("value"in Ye||Ye.initializer)&&(Ye.writable=!0),Ye=We.slice().reverse().reduce(function(e,t){return t(Ue,Ve,e)||e},Ye),He&&void 0!==Ye.initializer&&(Ye.value=Ye.initializer?Ye.initializer.call(He):void 0,Ye.initializer=void 0),void 0===Ye.initializer&&(Object.defineProperty(Ue,Ve,Ye),Ye=null),fe=me))||fe)||fe,Ze=Object(k.b)("labels","rootStore")(Object(k.c)(function(e){var t=e.labels,r=e.rootStore;return S.a.createElement(Xe,{label:t.startPeriod,value:r.startPeriod,onChange:function(e){r.setStartPeriod(e.target.value)}})})),et=Object(k.b)("labels","rootStore")(Object(k.c)(function(e){var t=e.labels,r=e.rootStore;return S.a.createElement(Xe,{label:t.endPeriod,value:r.endPeriod,onChange:function(e){r.setEndPeriod(e.target.value)}})})),tt=Object(k.b)("labels","rootStore")(he=Object(k.c)(he=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).checkMostRecent=function(){t.props.rootStore.setMostRecent(2)},t.updateMostRecentCount=function(e){t.props.rootStore.setMostRecent(e.target.value)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement("div",{className:"form-row mb-3"},S.a.createElement("div",{className:"col-sm-4"},S.a.createElement("div",{className:"form-check form-check-inline pt-1"},S.a.createElement("span",{className:"form-check-input"},S.a.createElement("input",{type:"radio",checked:this.props.rootStore.showAll,disabled:!this.props.rootStore.timeframeEnabled,onChange:this.props.rootStore.setShowAll})),S.a.createElement("label",{className:"form-check-label"},this.props.labels.showAll))),S.a.createElement("div",{className:"col-sm-4 p-0"},S.a.createElement("div",{className:"form-check form-check-inline pt-1"},S.a.createElement("span",{className:"form-check-input"},S.a.createElement("input",{type:"radio",checked:null!==this.props.rootStore.mostRecent,disabled:!this.props.rootStore.timeframeEnabled,onChange:this.checkMostRecent})),S.a.createElement("label",{className:"form-check-label"},this.props.labels.mostRecent))),S.a.createElement("div",{className:"col-sm-4"},S.a.createElement("input",{type:"number",className:"form-control",value:this.props.rootStore.mostRecent||"",disabled:!this.props.rootStore.timeframeEnabled,onChange:this.updateMostRecentCount})))}}]),i}())||he)||he,rt=function(e){return S.a.createElement("div",{className:"form-row mb-2 iptt-react-select-row"},S.a.createElement("label",{className:"col-form-label text-uppercase"},e.label),e.children)},nt=Object(k.b)("labels","rootStore")(ye=Object(k.c)(ye=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).updateLevelFilters=function(e){t.props.rootStore.setLevelFilters(e)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement(rt,{label:this.props.labels.levelSelect},S.a.createElement(_e.a,{options:this.props.rootStore.selectedProgram.reportLevels,isMulti:!0,value:this.props.rootStore.levelFilters,onChange:this.updateLevelFilters}))}}]),i}())||ye)||ye,ot=Object(k.b)("labels","rootStore")(be=Object(k.c)(be=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).updateSiteFilters=function(e){t.props.rootStore.setSiteFilters(e)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement(rt,{label:this.props.labels.siteSelect},S.a.createElement(_e.a,{options:this.props.rootStore.selectedProgram.reportSites,isMulti:!0,value:this.props.rootStore.siteFilters,onChange:this.updateSiteFilters}))}}]),i}())||be)||be,it=Object(k.b)("labels","rootStore")(ge=Object(k.c)(ge=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).updateTypeFilters=function(e){t.props.rootStore.setTypeFilters(e)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement(rt,{label:this.props.labels.typeSelect},S.a.createElement(_e.a,{options:this.props.rootStore.selectedProgram.reportTypes,isMulti:!0,value:this.props.rootStore.typeFilters,onChange:this.updateTypeFilters}))}}]),i}())||ge)||ge,at=Object(k.b)("labels","rootStore")(ve=Object(k.c)(ve=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).updateSectorFilters=function(e){t.props.rootStore.setSectorFilters(e)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement(rt,{label:this.props.labels.sectorSelect},S.a.createElement(_e.a,{options:this.props.rootStore.selectedProgram.reportSectors,isMulti:!0,value:this.props.rootStore.sectorFilters,onChange:this.updateSectorFilters}))}}]),i}())||ve)||ve,lt=Object(k.b)("labels","rootStore")(Pe=Object(k.c)(Pe=function(e){function i(){var e,t;De(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Re(this,(e=Le(i)).call.apply(e,[this].concat(n)))).updateIndicatorFilters=function(e){t.props.rootStore.setIndicatorFilters(e)},t}return Me(i,S.a.Component),Ae(i,[{key:"render",value:function(){return S.a.createElement(rt,{label:this.props.labels.indicatorSelect},S.a.createElement(_e.a,{options:this.props.rootStore.selectedProgram.reportIndicatorsOptions,isMulti:!0,value:this.props.rootStore.indicatorFilters,onChange:this.updateIndicatorFilters}))}}]),i}())||Pe)||Pe,st=Object(k.b)("labels")(Object(k.c)(function(e){var t=e.labels;return S.a.createElement("nav",{id:"id_iptt_report_filter"},S.a.createElement("div",{className:"p-3",id:"filter-top"},S.a.createElement("h3",{className:"filter-title text-title-case"},t.filterTitle),S.a.createElement(Ke,null),S.a.createElement(Qe,null),S.a.createElement(tt,null),S.a.createElement(Ze,null),S.a.createElement(et,null)),S.a.createElement("div",{id:"filter-middle",className:"p-3"},S.a.createElement(nt,null),S.a.createElement(ot,null),S.a.createElement(it,null),S.a.createElement(at,null),S.a.createElement(lt,null)))})),ct=r("MWn0"),ut=r.n(ct);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mt(e,t,r){return t&&ft(e.prototype,t),r&&ft(e,r),e}function ht(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=Object(k.b)("labels","rootStore")($e=function(e){function r(e){var t;return dt(this,r),(t=ht(this,yt(r).call(this,e))).handleChange=function(e){t.setState({reportName:e.target.value})},t.isDisabled=function(){return!t.props.rootStore.pinData||!t.state.reportName},t.handleClick=function(){t.setState({sending:!0}),$.ajax({type:"POST",url:t.props.labels.pin.createUrl,data:function(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return o}({name:t.state.reportName},t.props.rootStore.pinData),success:function(){t.setState({sending:!1,sent:!0})},error:function(){}})},t.state={reportName:"",sending:!1,sent:!1},t}return bt(r,S.a.Component),mt(r,[{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,this.state.sent?S.a.createElement("div",{className:"form-group"},S.a.createElement("p",null,S.a.createElement("span",null,this.props.labels.pin.successMsg)),S.a.createElement("p",null,S.a.createElement("a",{href:this.props.rootStore.programPageUrl},this.props.labels.pin.successLink))):S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{className:"text-uppercase"},this.props.labels.pin.reportName),S.a.createElement("input",{type:"text",className:"form-control",value:this.state.reportName,onChange:this.handleChange,disabled:this.state.sending})),this.state.sending?S.a.createElement("div",{className:"btn btn-outline-primary",disabled:!0},S.a.createElement("img",{src:"/static/img/ajax-loader.gif"})," ",this.props.labels.loading):S.a.createElement("button",{type:"button",onClick:this.handleClick,disabled:this.isDisabled(),className:"btn btn-primary"},this.props.labels.pin.submitButton)))}}]),r}())||$e,Pt=Object(k.b)("labels")(Be=function(e){function r(e){var t;return dt(this,r),(t=ht(this,yt(r).call(this,e))).state={open:!1},t}return bt(r,S.a.Component),mt(r,[{key:"handleClick",value:function(e){this.setState({open:!this.state.open})}},{key:"handleClose",value:function(e){this.setState({open:!1})}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"btn btn-sm btn-secondary",ref:"target",onClick:this.handleClick.bind(this)},S.a.createElement("i",{className:"fas fa-thumbtack"})," ",this.props.labels.pin.buttonLabel),S.a.createElement(ut.a,{placement:"bottom",style:{width:"auto"},target:this.refs.target,show:this.state.open,onHide:this.handleClose.bind(this)},S.a.createElement(vt,null)))}}]),r}())||Be,Ot=Object(k.b)("labels")(function(e){var t=e.labels;return S.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary"},S.a.createElement("i",{className:"fas fa-download"})," ",t.excel)});function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ft(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var It=Object(k.b)("labels","rootStore")(Object(k.c)(function(e){var t=e.labels,r=e.rootStore;return S.a.createElement("div",{className:"page-subheader"},S.a.createElement("div",{id:"id_span_iptt_date_range",className:"subheader__title"},S.a.createElement("h2",{className:"pt-3 text-title-case"},t.reportTitle),S.a.createElement("h4",{className:"pb-3"},r.startPeriodLabel&&r.endPeriodLabel?r.startPeriodLabel+" - "+r.endPeriodLabel:"")),S.a.createElement("div",{className:"subheader__actions"},S.a.createElement(Pt,null),S.a.createElement(Ot,null)))})),kt=Object(k.b)("labels")(function(e){var t=e.labels;return S.a.createElement("div",{className:"sidebar_wrapper"},S.a.createElement("div",{className:"collapse width show",id:"sidebar"},S.a.createElement(st,null)),S.a.createElement("div",{className:"sidebar-toggle"},S.a.createElement("a",{href:"#","data-target":"#sidebar","data-toggle":"collapse",title:t.sidebarToggle},S.a.createElement("i",{className:"fa fa-chevron-left"}))))}),qt=function(){return S.a.createElement("main",{className:"iptt_table_wrapper"},S.a.createElement("div",{id:"id_div_top_iptt_report"},S.a.createElement(It,null),S.a.createElement(ke,null)))},Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,wt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,S.a.Component),r=t,(n=[{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement(kt,null),S.a.createElement(qt,null))}}])&&St(r.prototype,n),o&&St(r,o),t}(),_t=jsContext.labels,xt=new z("/indicators/iptt_report_data/"),Tt=new J(jsContext,xt),Dt=Object(j.b)([{name:"iptt",path:"/:programId<\\d+>/:reportType/?frequency&timeperiods&targetperiods&timeframe&numrecenteperiods&start&end&start_period&end_period&levels&sites&types&sectors&indicators"}]);Dt.usePlugin(Object(I.a)({useHash:!1,base:"/indicators/iptt_report"})),Dt.subscribe(Tt.updateRoute),Dt.start(),Tt.init(Dt),w.a.render(S.a.createElement(k.a,{rootStore:Tt,labels:_t},S.a.createElement(Nt,null)),document.querySelector("#id_div_content"))}},[["mYfJ",0,1]]]);