(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{mYfJ:function(e,t,r){"use strict";r.r(t);var n,o,i,a,l,s,c,u,p,d,f,h,m,b,y,g,v,P=r("q1tI"),E=r.n(P),O=r("i8i4"),S=r.n(O),w=r("wgi2"),j=r("0pHI"),F=r("okNM"),I=r("2vnA");function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function x(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return t&&D(e.prototype,t),r&&D(e,r),e}var A,R="---------",L=function(){function t(e){N(this,t),this.url=e}return C(t,[{key:"callForData",value:function(e,t,r){var n={programId:e,frequency:t,reportType:r?"tva":"timeperiods"};return $.get(this.url,n)}}]),t}(),z=(o=x((n=function(){function t(e){N(this,t),_(this,"timeperiodsData",o,this),_(this,"tvaData",i,this),_(this,"id",a,this),this.program=e}return C(t,[{key:"loadData",value:function(e){this.id=e.id,this.sortIndex=e.sortIndex,this.number=e.number,this.name=e.name,this.level=e.level,this.sites=e.sites,this.types=e.indicatorTypes,this.sector=e.sector,this.frequency=e.frequency,this.unitOfMeasure=e.unitOfMeasure,this.cumulative=e.cumulative,this.unitType=e.unitType,this.baseline=e.baseline,this.lopTarget=e.lopTarget,this.lopActual=e.lopActual,this.lopMet=e.lopMet,e.reportData&&this.loadReportData(e.reportData)}},{key:"loadReportData",value:function(e){var o=this;e.timeperiods&&Object.entries(e.timeperiods).forEach(function(e){var t=T(e,2),r=t[0],n=t[1];o.timeperiodsData[r]=n}),e.tva&&Object.entries(e.tva).forEach(function(e){var t=T(e,2),r=t[0],n=t[1];o.tvaData[r]=n})}},{key:"indicatorData",get:function(){var e=String(this.program.rootStore.selectedFrequencyId),t=this.program.rootStore.isTVA?this.tvaData:this.timeperiodsData;return!!t[e]&&t[e].slice(this.program.rootStore.startPeriod,parseInt(this.program.rootStore.endPeriod)+1)}},{key:"isPercent",get:function(){return"%"==this.unitType}}]),t}()).prototype,"timeperiodsData",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=x(n.prototype,"tvaData",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=x(n.prototype,"id",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x(n.prototype,"indicatorData",[I.e],Object.getOwnPropertyDescriptor(n.prototype,"indicatorData"),n.prototype),x(n.prototype,"isPercent",[I.e],Object.getOwnPropertyDescriptor(n.prototype,"isPercent"),n.prototype),n),M=(s=x((l=function(){function r(e,t){N(this,r),_(this,"indicators",s,this),_(this,"reportsLoaded",c,this),this.rootStore=e,this.id=t.id,this.name=t.name,this.frequencies=t.frequencies,this.periodDateRanges=t.periodDateRanges}return C(r,[{key:"periods",value:function(e){return e in this.periodDateRanges&&this.periodDateRanges[e]}},{key:"periodCount",value:function(e){return this.periods(e)?this.periods(e).length:0}},{key:"currentPeriod",value:function(e){var t=this.periods(e);return t?7==e?t.filter(function(e){return!e[4]}).length-1:t.filter(function(e){return!e[2]}).length-1:null}},{key:"loadData",value:function(e){var t=this;e.programId,this.id,null===this.indicators&&(this.indicators={}),e.indicators.forEach(function(e){null==t.indicators[e.id]&&(t.indicators[e.id]=new z(t)),t.indicators[e.id].loadData(e)}),this.reportsLoaded[e.reportType].push(String(e.reportFrequency))}},{key:"reportIndicators",get:function(){var n=this;return null!==this.indicators&&(!(this.rootStore.isTVA&&-1==this.reportsLoaded.tva.indexOf(String(this.rootStore.selectedFrequencyId))||!this.rootStore.isTVA&&-1==this.reportsLoaded.timeperiods.indexOf(String(this.rootStore.selectedFrequencyId)))&&Object.entries(this.indicators).filter(function(e){var t=T(e,2),r=(t[0],t[1]);return!n.rootStore.isTVA||r.frequency==n.rootStore.selectedFrequencyId}).map(function(e){var t=T(e,2);t[0];return t[1]}).sort(function(e,t){return e.sortIndex-t.sortIndex}))}},{key:"reportLevels",get:function(){return this.reportIndicators?q(new Set(this.reportIndicators.map(function(e){return e.level}))):[]}},{key:"reportSites",get:function(){if(!this.reportIndicators)return[];var e=this.reportIndicators.map(function(e){return e.sites}).reduce(function(e,t){return e.concat(t)}).map(function(e){return{value:e.pk,label:e.name}});return q(new Set(e.map(JSON.stringify))).map(JSON.parse)}},{key:"reportTypes",get:function(){if(!this.reportIndicators)return[];var e=this.reportIndicators.map(function(e){return e.types}).reduce(function(e,t){return e.concat(t)}).map(function(e){return{value:e.pk,label:e.name}});return q(new Set(e.map(JSON.stringify))).map(JSON.parse)}},{key:"reportSectors",get:function(){return this.reportIndicators?q(new Set(this.reportIndicators.map(function(e){return JSON.stringify({value:e.sector.pk,label:e.sector.name})}))).map(JSON.parse):[]}}]),r}()).prototype,"indicators",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=x(l.prototype,"reportsLoaded",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{tva:[],timeperiods:[]}}}),x(l.prototype,"loadData",[I.d],Object.getOwnPropertyDescriptor(l.prototype,"loadData"),l.prototype),x(l.prototype,"reportIndicators",[I.e],Object.getOwnPropertyDescriptor(l.prototype,"reportIndicators"),l.prototype),x(l.prototype,"reportLevels",[I.e],Object.getOwnPropertyDescriptor(l.prototype,"reportLevels"),l.prototype),x(l.prototype,"reportSites",[I.e],Object.getOwnPropertyDescriptor(l.prototype,"reportSites"),l.prototype),x(l.prototype,"reportTypes",[I.e],Object.getOwnPropertyDescriptor(l.prototype,"reportTypes"),l.prototype),x(l.prototype,"reportSectors",[I.e],Object.getOwnPropertyDescriptor(l.prototype,"reportSectors"),l.prototype),l),W=function(){function n(e,t){var r=this;N(this,n),this.rootStore=e,this.programs={},t.forEach(function(e){r.programs[e.id]=new M(r.rootStore,e)})}return C(n,[{key:"getProgram",value:function(e){return this.programs[e]}}]),n}(),V=(p=x((u=function(){function n(e,t){var r,a=this;N(this,n),_(this,"selectedProgram",p,this),_(this,"selectedFrequencyId",d,this),_(this,"startPeriod",f,this),_(this,"endPeriod",h,this),_(this,"nullRecent",m,this),_(this,"levelFilters",b,this),_(this,"siteFilters",y,this),_(this,"typeFilters",g,this),_(this,"sectorFilters",v,this),this.reportType=null,this.router=null,this.currentPeriod=null,this.loading=!1,this.init=function(e){var t=(a.router=e).getState().params,r=!1;if(a.setProgramId(t.programId),a.setReportType(t.reportType),(t.timeperiods||t.targetperiods)&&(t.frequency=t.timeperiods||t.targetperiods,delete t.timeperiods,delete t.targetperiods,r=!0),a.setFrequencyId(t.frequency),1==t.timeframe)t.start=0,t.end=a.selectedProgram.periodDateRanges[t.frequency].length-1,delete t.timeframe,r=!0;else if(2==t.timeframe){var n=t.numrecentperiods||2;t.end=a.selectedProgram.currentPeriod(t.frequency),t.start=t.end-n+1,delete t.timeframe,delete t.numrecentperiods,r=!0}else void 0!==t.start&&void 0!==t.end||(t.start=0,t.end=a.selectedProgram.periodDateRanges[t.frequency].length-1,delete t.timeframe,delete t.numrecentperiods,delete t.start_period,delete t.end_period,r=!0);a.setStartPeriod(t.start),a.setEndPeriod(t.end),r&&e.navigate(e.getState().name,t,{reload:!0})},this.updateUrl=function(e,t){var r=a.router.getState().params;if(null!==t&&r[e]!=t){var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){k(t,e,r[e])})}return t}({},r,k({},e,t));a.router.navigate(a.router.getState().name,n,{replace:!0})}},this.updateRoute=function(e){e.previousRoute,e.route},this.callForData=function(){a.loading||(a.loading=!0,a.reportAPI.callForData(a.selectedProgram.id,a.selectedFrequencyId,a.isTVA).then(function(e){a.selectedProgram.loadData(e),a.loading=!1}))},this.getPeriodLabel=function(e,t){if(7==a.selectedFrequencyId){var r=T(e,4);return{title:r[2]+" "+r[3],subtitle:""}}if(2==a.selectedFrequencyId)return{title:e[2].toUpperCase(),subtitle:""};var n=T(e,2),o=n[0],i=n[1];return{title:a._periodLabels.names[a.selectedFrequencyId]+" "+(t+1),subtitle:o+" - "+i}},this.setShowAll=function(){a.setStartPeriod(0),a.setEndPeriod(a.selectedProgram.periodCount(a.selectedFrequencyId)-1)},this.setMostRecent=function(e){if(""===e)a.nullRecent=!0;else if(null!==e){var t=Math.max(a.currentPeriod-e+1,0);a.setEndPeriod(a.currentPeriod),a.setStartPeriod(t)}},this.programStore=new W(this,e.programs),this.reportAPI=t,this._periodLabels=(k(r={},2,e.labels.timeperiods),k(r,1,e.labels.targetperiods),k(r,"names",e.labels.periodNames),r)}return C(n,[{key:"setReportType",value:function(e){this.reportType="timeperiods"==e?2:1}},{key:"setProgramId",value:function(e){null===e?this.selectedProgram=null:null!=this.selectedProgram&&this.selectedProgram.id==e||(this.updateUrl("programId",e),this.selectedProgram=this.programStore.getProgram(e),this.isTVA&&this.selectedFrequencyId&&-1==this.selectedProgram.frequencies.indexOf(parseInt(this.selectedFrequencyId))?this.setFrequencyId(null):null!==this.selectedFrequencyId&&(this.setFrequencyId(this.selectedFrequencyId),this.updatePeriods()))}},{key:"setFrequencyId",value:function(e){null===e?this.selectedFrequencyId=null:this.selectedFrequencyId!=e&&(this.selectedFrequencyId=e,this.updateUrl("frequency",e),this.updatePeriods(),this.updateCurrentPeriod())}},{key:"updateCurrentPeriod",value:function(){this.currentPeriod=this.selectedProgram.currentPeriod(this.selectedFrequencyId)}},{key:"updatePeriods",value:function(){2==this.selectedFrequencyId?(this.setStartPeriod(0),this.setEndPeriod(1)):(""!=this.startPeriod&&this.setStartPeriod(this.startPeriod),""!=this.endPeriod&&this.setEndPeriod(this.endPeriod))}},{key:"setStartPeriod",value:function(e){2==this.selectedFrequencyId?(this.startPeriod=0,this.updateUrl("start",this.startPeriod)):this.selectedFrequencyId&&this.selectedProgram&&(e=null!==e?e<this.selectedProgram.periodCount(this.selectedFrequencyId)?e:0:"",this.startPeriod=e,this.updateUrl("start",this.startPeriod))}},{key:"setEndPeriod",value:function(e){2==this.selectedFrequencyId?(this.endPeriod=1,this.updateUrl("end",this.endPeriod)):this.selectedFrequencyId&&this.selectedProgram&&(this.nullRecent=!1,e=null!==e?e<this.selectedProgram.periodCount(this.selectedFrequencyId)?e:this.selectedProgram.periodCount(this.selectedFrequencyId)-1:"",this.endPeriod=e,this.updateUrl("end",this.endPeriod))}},{key:"isTVA",get:function(){return 1===this.reportType}},{key:"reportIndicators",get:function(){var t=this;if(null===this.selectedProgram||!this.selectedFrequencyId)return[];if(this.selectedProgram.reportIndicators){var e=this.selectedProgram.reportIndicators;if(this.levelFilters&&0<this.levelFilters.length&&(e=e.filter(function(e){return-1!=t.levelFilters.map(function(e){return e.value}).indexOf(e.level)})),this.siteFilters&&0<this.siteFilters.length){var r=this.siteFilters.map(function(e){return e.value});e=e.filter(function(e){return 0<e.sites.map(function(e){return e.pk}).filter(function(e){return r.includes(e)}).length})}if(this.typeFilters&&0<this.typeFilters.length){var n=this.typeFilters.map(function(e){return e.value});e=e.filter(function(e){return 0<e.types.map(function(e){return e.pk}).filter(function(e){return n.includes(e)}).length})}return this.sectorFilters&&0<this.sectorFilters.length&&(e=e.filter(function(e){return-1!=t.sectorFilters.map(function(e){return e.value}).indexOf(e.sector.pk)})),e}return this.callForData(),!1}},{key:"selectedProgramOption",get:function(){return null===this.selectedProgram?{value:null,label:R}:{value:this.selectedProgram.id,label:this.selectedProgram.name}}},{key:"programOptions",get:function(){return Object.entries(this.programStore.programs).map(function(e){var t=T(e,2);return{value:t[0],label:t[1].name}})}},{key:"selectedFrequencyOption",get:function(){return null===this.selectedProgram||null===this.selectedFrequencyId?{value:null,label:R}:{value:this.selectedFrequencyId,label:this._periodLabels[this.reportType][this.selectedFrequencyId]}}},{key:"frequencyOptions",get:function(){var t=this;return null===this.selectedProgram?[{value:null,label:R}]:2==this.reportType?Object.entries(this._periodLabels[2]).map(function(e){var t=T(e,2);return{value:t[0],label:t[1]}}):this.selectedProgram.frequencies.map(function(e){return{value:e,label:t._periodLabels[1][e]}})}},{key:"startPeriodLabel",get:function(){return this.selectedProgram&&this.selectedFrequencyId&&null!==this.startPeriod&&""!==this.startPeriod&&this.startPeriod<=this.selectedProgram.periodCount(this.selectedFrequencyId)?this.selectedProgram.periods(this.selectedFrequencyId)[this.startPeriod][0]:""}},{key:"endPeriodLabel",get:function(){return this.selectedProgram&&this.selectedFrequencyId&&null!==this.endPeriod&&""!==this.endPeriod&&this.endPeriod<this.selectedProgram.periodCount(this.selectedFrequencyId)?this.selectedProgram.periods(this.selectedFrequencyId)[this.endPeriod][1]:""}},{key:"selectedPeriods",get:function(){return this.selectedProgram&&this.selectedFrequencyId&&1!==this.selectedFrequencyId&&null!==this.startPeriod&&null!==this.endPeriod?this.selectedProgram.periods(this.selectedFrequencyId).slice(this.startPeriod,parseInt(this.endPeriod)+1):[]}},{key:"periodOptions",get:function(){var o=this;if(null===this.selectedProgram||null===this.selectedFrequencyId)return[{value:null,label:R}];if(7!=this.selectedFrequencyId)return 2==this.selectedFrequencyId||1==this.selectedFrequencyId?this.selectedProgram.periods(this.selectedFrequencyId).map(function(e,t){return{value:t,label:e[t]}}):this.selectedProgram.periods(this.selectedFrequencyId).map(function(e,t){var r=o.getPeriodLabel(e,t);return{value:t,label:r.title+" ("+r.subtitle+")"}});var i={};return this.selectedProgram.periodDateRanges[7].forEach(function(e,t){var r=o.getPeriodLabel(e,t),n=e[3];n in i||(i[n]=[]),i[n].push({value:t,label:r.title})}),i}},{key:"timeframeEnabled",get:function(){return this.selectedProgram&&2!=this.selectedFrequencyId&&1!=this.selectedFrequencyId}},{key:"showAll",get:function(){return this.timeframeEnabled&&0==this.startPeriod&&this.endPeriod==this.selectedProgram.periodCount(this.selectedFrequencyId)-1}},{key:"mostRecent",get:function(){return this.nullRecent?"":this.timeframeEnabled&&!this.showAll&&null!==this.currentPeriod&&this.endPeriod==this.currentPeriod?this.endPeriod-this.startPeriod+1:null}}]),n}()).prototype,"selectedProgram",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=x(u.prototype,"selectedFrequencyId",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=x(u.prototype,"startPeriod",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=x(u.prototype,"endPeriod",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=x(u.prototype,"nullRecent",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=x(u.prototype,"levelFilters",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=x(u.prototype,"siteFilters",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=x(u.prototype,"typeFilters",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=x(u.prototype,"sectorFilters",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x(u.prototype,"reportIndicators",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"reportIndicators"),u.prototype),x(u.prototype,"selectedProgramOption",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"selectedProgramOption"),u.prototype),x(u.prototype,"selectedFrequencyOption",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"selectedFrequencyOption"),u.prototype),x(u.prototype,"frequencyOptions",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"frequencyOptions"),u.prototype),x(u.prototype,"startPeriodLabel",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"startPeriodLabel"),u.prototype),x(u.prototype,"endPeriodLabel",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"endPeriodLabel"),u.prototype),x(u.prototype,"selectedPeriods",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"selectedPeriods"),u.prototype),x(u.prototype,"periodOptions",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"periodOptions"),u.prototype),x(u.prototype,"timeframeEnabled",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"timeframeEnabled"),u.prototype),x(u.prototype,"showAll",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"showAll"),u.prototype),x(u.prototype,"mostRecent",[I.e],Object.getOwnPropertyDescriptor(u.prototype,"mostRecent"),u.prototype),u);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G,K,Q=function(e){var t={};return e.minWidth&&(t.minWidth=e.minWidth),E.a.createElement("th",{scope:"col",className:"align-bottom text-uppercase "+(e.classes||""),style:t},e.cellText)},X=Object(F.b)("labels","rootStore")(A=Object(F.c)(A=function(e){function i(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=U(this,(e=Y(i)).call.apply(e,[this].concat(r)))).getDateRangeHeaders=function(){var r=[],e=n.props.rootStore.selectedPeriods;return e&&(n.props.rootStore.isTVA?e.forEach(function(e,t){r.push(E.a.createElement(Q,{classes:"text-right",minWidth:"110px",key:t+"a",cellText:n.props.labels.columnHeaders.target})),r.push(E.a.createElement(Q,{classes:"text-right",minWidth:"110px",key:t+"b",cellText:n.props.labels.columnHeaders.actual})),r.push(E.a.createElement(Q,{classes:"text-right",minWidth:"110px",key:t+"c",cellText:n.props.labels.columnHeaders.met}))}):e.forEach(function(e,t){r.push(E.a.createElement(Q,{classes:"text-right",key:t,cellText:n.props.labels.columnHeaders.actual}))})),r},n}var t,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(i,E.a.Component),t=i,(r=[{key:"render",value:function(){var e=this.props.labels.columnHeaders;return E.a.createElement("tr",null,E.a.createElement(Q,{minWidth:"80px",cellText:e.number}),E.a.createElement(Q,{minWidth:"600px",classes:"td-no-side-borders",cellText:e.indicator}),E.a.createElement(Q,{classes:"td-no-side-borders"}),E.a.createElement(Q,{minWidth:"90px",cellText:e.level}),E.a.createElement(Q,{minWidth:"250px",cellText:e.uom}),E.a.createElement(Q,{cellText:e.change}),E.a.createElement(Q,{minWidth:"130px",cellText:e.cumulative}),E.a.createElement(Q,{minWidth:"50px",cellText:e.numType}),E.a.createElement(Q,{cellText:e.baseline}),E.a.createElement(Q,{minWidth:"110px",classes:"text-right td-no-side-borders",cellText:e.target}),E.a.createElement(Q,{minWidth:"110px",classes:"text-right td-no-side-borders",cellText:e.actual}),E.a.createElement(Q,{minWidth:"110px",classes:"text-right td-no-side-borders",cellText:e.met}),this.getDateRangeHeaders())}}])&&J(t.prototype,r),n&&J(t,n),i}())||A)||A,Z=Object(F.b)("labels","rootStore")(Object(F.c)(function(e){var n,t,r=e.labels,o=e.rootStore;return E.a.createElement("thead",{className:"thead-light"},E.a.createElement("tr",null,E.a.createElement("td",{colSpan:"9",id:"id_td_iptt_program_name",className:"lopCols align-bottom pt-2"},E.a.createElement("h5",{className:"m-0"},E.a.createElement("strong",null,o.selectedProgram.name))),E.a.createElement("td",{scope:"colgroup",colSpan:"3",className:"text-center align-bottom text-uppercase"},r.columnHeaders.lop),(n=[],(t=o.selectedPeriods)&&t.forEach(function(e,t){t+=parseInt(o.startPeriod);var r=o.getPeriodLabel(e,t);n.push(E.a.createElement("td",{scope:"col",colSpan:o.isTVA?"3":"1",className:"text-center lopCols text-nowrap align-bottom"+(7==o.selectedFrequencyId?" text-uppercase":""),key:t}," ",r.title,E.a.createElement("br",null),E.a.createElement("small",null,r.subtitle)))}),n)),E.a.createElement(X,null))}));function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t,r){return t&&re(e.prototype,t),r&&re(e,r),e}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ce,ue,pe,de,fe,he,me,be,ye,ge=Object(F.c)(function(e){return E.a.createElement("td",se({className:"td-no-side-borders"},e),e.children)}),ve=Object(F.c)(function(e){var t=e.target,r=e.value,n=e.isPercent,o=r&&t&&0!=t?String(Math.round(r/t*1e3)/10)+"%":"—",i=r?String(Math.round(r))+(n?"%":""):"—",a=r&&t?String(Math.round(t))+(n?"%":""):"";return E.a.createElement(E.a.Fragment,null,E.a.createElement("td",{align:"right"},a),E.a.createElement("td",{align:"right"},i),E.a.createElement("td",{align:"right"},o))}),Pe=Object(F.b)("rootStore")(G=Object(F.c)(G=function(e){function i(){var e,r;te(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=oe(this,(e=ie(i)).call.apply(e,[this].concat(n)))).getPeriodValues=function(){return r.props.indicator.indicatorData?r.props.rootStore.isTVA?r.props.indicator.indicatorData.map(function(e,t){return E.a.createElement(ve,se({key:t,isPercent:r.props.indicator.isPercent},e))}):r.props.indicator.indicatorData.map(function(e,t){return E.a.createElement("td",{key:t,align:"right"},e?String(Math.round(e))+(r.props.indicator.isPercent?"%":""):"—")}):E.a.createElement("td",{key:r.props.index},"Loading")},r}return ae(i,E.a.Component),ne(i,[{key:"render",value:function(){var e=this.props.indicator;if(null===e.id)return E.a.createElement(Ee,null);var t=E.a.createElement("button",{type:"button",className:"btn btn-link p-1 indicator-ajax-popup indicator-data","data-indicatorid":e.id,"data-container":"body","data-trigger":"focus","data-toggle":"popover","data-placement":"bottom"},E.a.createElement("i",{className:"fas fa-table"})),r=E.a.createElement("a",{href:"#",className:"indicator-link float-right"},E.a.createElement("i",{className:"fas fa-cog"})),n=e.baseline?String(e.baseline)+(e.isPercent?"%":""):"—",o=e.lopTarget?String(Math.round(e.lopTarget))+(e.isPercent?"%":""):"—",i=e.lopActual?e.isPercent?String(Math.round(10*e.lopActual)/10)+"%":String(Math.round(e.lopActual)):"—",a=e.lopMet?String(Math.round(1e3*e.lopMet)/10)+"%":"—";return E.a.createElement("tr",null,E.a.createElement(ge,null,e.number),E.a.createElement(ge,null,t,"  ",e.name),E.a.createElement(ge,null,r),E.a.createElement(ge,null,e.level),E.a.createElement(ge,null,e.unitOfMeasure),E.a.createElement(ge,{align:"right"},e.directionOfChange),E.a.createElement(ge,null,e.cumulative),E.a.createElement(ge,null,e.unitType),E.a.createElement(ge,{align:"right"},n),E.a.createElement(ge,{align:"right"},o),E.a.createElement(ge,{align:"right"},i),E.a.createElement(ge,{align:"right"},a),this.getPeriodValues())}}]),i}())||G)||G,Ee=function(){return E.a.createElement("tr",null,E.a.createElement("td",null,"Loading"))},Oe=Object(F.b)("rootStore")(Object(F.c)(function(e){var t=e.rootStore,r=t.reportIndicators?t.reportIndicators.map(function(e,t){return E.a.createElement(Pe,{indicator:e,key:t})}):E.a.createElement(Ee,null);return E.a.createElement("tbody",null,r)})),Se=Object(F.b)("labels","rootStore")(K=Object(F.c)(K=function(e){function t(){return te(this,t),oe(this,ie(t).apply(this,arguments))}return ae(t,E.a.Component),ne(t,[{key:"render",value:function(){return E.a.createElement("table",{className:"table table-sm table-bordered table-hover",id:"iptt_table"},E.a.createElement("colgroup",{scope:"col",span:"9"}),E.a.createElement("colgroup",{scope:"col",span:"3",className:"lopCols"}),E.a.createElement("colgroup",{scope:"col",span:this.props.rootStore.selectedPeriods.length}),E.a.createElement(Z,null),E.a.createElement(Oe,null))}}]),t}())||K)||K,we=r("y2Vs");function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qe(e,t,r){return t&&ke(e.prototype,t),r&&ke(e,r),e}function Te(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De,Ce,Ae,Re,Le,ze,Me=function(e){return E.a.createElement("div",{className:"form-row mb-3"},E.a.createElement("label",{className:"col-form-label text-uppercase"},e.label),e.children)},We=Object(F.b)("labels","rootStore")(ce=Object(F.c)(ce=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).selectProgram=function(e){t.props.rootStore.setProgramId(e.value)},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){return E.a.createElement(Me,{label:this.props.labels.programSelect},E.a.createElement(we.a,{options:this.props.rootStore.programOptions,value:this.props.rootStore.selectedProgramOption,onChange:this.selectProgram,className:"iptt-react-select"}))}}]),i}())||ce)||ce,Ve=Object(F.b)("labels","rootStore")(ue=Object(F.c)(ue=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).selectFrequency=function(e){t.props.rootStore.setFrequencyId(e.value)},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){var e=this.props.rootStore.isTVA?this.props.labels.periodSelect.tva:this.props.labels.periodSelect.timeperiods;return E.a.createElement(Me,{label:e},E.a.createElement(we.a,{options:this.props.rootStore.frequencyOptions,value:this.props.rootStore.selectedFrequencyOption,onChange:this.selectFrequency,className:"iptt-react-select"}))}}]),i}())||ue)||ue,He=Object(F.b)("rootStore")(pe=Object(F.c)((De=(de=function(e){function t(){return Ie(this,t),Te(this,_e(t).apply(this,arguments))}return xe(t,E.a.Component),qe(t,[{key:"render",value:function(){return E.a.createElement(Me,{label:this.props.label},E.a.createElement("select",{className:"form-control",value:this.props.value,onChange:this.props.onChange,disabled:2==this.props.rootStore.selectedFrequencyId||1==this.props.rootStore.selectedFrequencyId},this.options))}},{key:"options",get:function(){return 7==this.props.rootStore.selectedFrequencyId?Object.entries(this.props.rootStore.periodOptions).map(function(e,t){var r=je(e,2),n=r[0],o=r[1];return E.a.createElement("optgroup",{label:n,key:t},o.map(function(e){return E.a.createElement("option",{value:e.value,key:e.value},e.label)}))}):this.props.rootStore.periodOptions.map(function(e){return E.a.createElement("option",{value:e.value,key:e.value},e.label)})}}]),t}()).prototype,Ce="options",Ae=[I.e],Re=Object.getOwnPropertyDescriptor(de.prototype,"options"),Le=de.prototype,ze={},Object.keys(Re).forEach(function(e){ze[e]=Re[e]}),ze.enumerable=!!ze.enumerable,ze.configurable=!!ze.configurable,("value"in ze||ze.initializer)&&(ze.writable=!0),ze=Ae.slice().reverse().reduce(function(e,t){return t(De,Ce,e)||e},ze),Le&&void 0!==ze.initializer&&(ze.value=ze.initializer?ze.initializer.call(Le):void 0,ze.initializer=void 0),void 0===ze.initializer&&(Object.defineProperty(De,Ce,ze),ze=null),pe=de))||pe)||pe,Je=Object(F.b)("labels","rootStore")(Object(F.c)(function(e){var t=e.labels,r=e.rootStore;return E.a.createElement(He,{label:t.startPeriod,value:r.startPeriod,onChange:function(e){r.setStartPeriod(e.target.value)}})})),Ue=Object(F.b)("labels","rootStore")(Object(F.c)(function(e){var t=e.labels,r=e.rootStore;return E.a.createElement(He,{label:t.endPeriod,value:r.endPeriod,onChange:function(e){r.setEndPeriod(e.target.value)}})})),Ye=Object(F.b)("labels","rootStore")(fe=Object(F.c)(fe=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).checkMostRecent=function(){t.props.rootStore.setMostRecent(2)},t.updateMostRecentCount=function(e){t.props.rootStore.setMostRecent(e.target.value)},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){return E.a.createElement("div",{className:"form-row mb-3"},E.a.createElement("div",{className:"col-sm-4"},E.a.createElement("div",{className:"form-check form-check-inline pt-1"},E.a.createElement("span",{className:"form-check-input"},E.a.createElement("input",{type:"radio",checked:this.props.rootStore.showAll,disabled:!this.props.rootStore.timeframeEnabled,onChange:this.props.rootStore.setShowAll})),E.a.createElement("label",{className:"form-check-label"},this.props.labels.showAll))),E.a.createElement("div",{className:"col-sm-4 p-0"},E.a.createElement("div",{className:"form-check form-check-inline pt-1"},E.a.createElement("span",{className:"form-check-input"},E.a.createElement("input",{type:"radio",checked:null!==this.props.rootStore.mostRecent,disabled:!this.props.rootStore.timeframeEnabled,onChange:this.checkMostRecent})),E.a.createElement("label",{className:"form-check-label"},this.props.labels.mostRecent))),E.a.createElement("div",{className:"col-sm-4"},E.a.createElement("input",{type:"number",className:"form-control",value:this.props.rootStore.mostRecent||"",disabled:!this.props.rootStore.timeframeEnabled,onChange:this.updateMostRecentCount})))}}]),i}())||fe)||fe,$e=function(e){return E.a.createElement("div",{className:"form-row mb-2"},E.a.createElement("label",{className:"col-form-label text-uppercase"},e.label),e.children)},Be=Object(F.b)("labels","rootStore")(he=Object(F.c)(he=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).getOptions=function(){return t.props.rootStore.selectedProgram.reportLevels.map(function(e){return{value:e,label:e}})},t.updateLevelFilters=function(e){t.props.rootStore.levelFilters=e},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){return E.a.createElement($e,{label:this.props.labels.levelSelect},E.a.createElement(we.a,{options:this.getOptions(),isMulti:!0,value:this.props.rootStore.levelFilters,onChange:this.updateLevelFilters,className:"iptt-react-select"}))}}]),i}())||he)||he,Ge=Object(F.b)("labels","rootStore")(me=Object(F.c)(me=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).updateSiteFilters=function(e){t.props.rootStore.siteFilters=e},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){return E.a.createElement($e,{label:this.props.labels.siteSelect},E.a.createElement(we.a,{options:this.props.rootStore.selectedProgram.reportSites,isMulti:!0,value:this.props.rootStore.siteFilters,onChange:this.updateSiteFilters,className:"iptt-react-select"}))}}]),i}())||me)||me,Ke=Object(F.b)("labels","rootStore")(be=Object(F.c)(be=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).updateTypeFilters=function(e){t.props.rootStore.typeFilters=e},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){return E.a.createElement($e,{label:this.props.labels.typeSelect},E.a.createElement(we.a,{options:this.props.rootStore.selectedProgram.reportTypes,isMulti:!0,value:this.props.rootStore.typeFilters,onChange:this.updateTypeFilters,className:"iptt-react-select"}))}}]),i}())||be)||be,Qe=Object(F.b)("labels","rootStore")(ye=Object(F.c)(ye=function(e){function i(){var e,t;Ie(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Te(this,(e=_e(i)).call.apply(e,[this].concat(n)))).updateSectorFilters=function(e){t.props.rootStore.sectorFilters=e},t}return xe(i,E.a.Component),qe(i,[{key:"render",value:function(){return E.a.createElement($e,{label:this.props.labels.sectorSelect},E.a.createElement(we.a,{options:this.props.rootStore.selectedProgram.reportSectors,isMulti:!0,value:this.props.rootStore.sectorFilters,onChange:this.updateSectorFilters,className:"iptt-react-select"}))}}]),i}())||ye)||ye,Xe=Object(F.b)("labels")(Object(F.c)(function(e){var t=e.labels;return E.a.createElement("nav",{id:"id_iptt_report_filter"},E.a.createElement("div",{className:"p-3",id:"filter-top"},E.a.createElement("h3",{className:"filter-title text-title-case"},t.filterTitle),E.a.createElement(We,null),E.a.createElement(Ve,null),E.a.createElement(Ye,null),E.a.createElement(Je,null),E.a.createElement(Ue,null)),E.a.createElement("div",{id:"filter-middle",className:"p-3"},E.a.createElement(Be,null),E.a.createElement(Ge,null),E.a.createElement(Ke,null),E.a.createElement(Qe,null)))})),Ze=Object(F.b)("labels")(function(e){var t=e.labels;return E.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary"},E.a.createElement("i",{className:"fas fa-thumbtack"})," ",t.pin)}),et=Object(F.b)("labels")(function(e){var t=e.labels;return E.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary"},E.a.createElement("i",{className:"fas fa-download"})," ",t.excel)});function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=Object(F.b)("labels","rootStore")(Object(F.c)(function(e){var t=e.labels,r=e.rootStore;return E.a.createElement("div",{className:"page-subheader"},E.a.createElement("div",{id:"id_span_iptt_date_range",className:"subheader__title"},E.a.createElement("h2",{className:"pt-3 text-title-case"},t.reportTitle),E.a.createElement("h4",{className:"pb-3"},r.startPeriodLabel," - ",r.endPeriodLabel)),E.a.createElement("div",{className:"subheader__actions"},E.a.createElement(Ze,null),E.a.createElement(et,null)))})),lt=Object(F.b)("labels")(function(e){var t=e.labels;return E.a.createElement("div",{className:"sidebar_wrapper"},E.a.createElement("div",{className:"collapse width show",id:"sidebar"},E.a.createElement(Xe,null)),E.a.createElement("div",{className:"sidebar-toggle"},E.a.createElement("a",{href:"#","data-target":"#sidebar","data-toggle":"collapse",title:t.sidebarToggle},E.a.createElement("i",{className:"fa fa-chevron-left"}))))}),st=function(){return E.a.createElement("main",{className:"iptt_table_wrapper"},E.a.createElement("div",{id:"id_div_top_iptt_report"},E.a.createElement(at,null),E.a.createElement(Se,null)))},ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nt(this,ot(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,E.a.Component),r=t,(n=[{key:"render",value:function(){return E.a.createElement(E.a.Fragment,null,E.a.createElement(lt,null),E.a.createElement(st,null))}}])&&rt(r.prototype,n),o&&rt(r,o),t}(),ut=jsContext.labels,pt=new L("/indicators/iptt_report_data/"),dt=new V(jsContext,pt),ft=Object(w.b)([{name:"iptt",path:"/:programId<\\d+>/:reportType/?frequency&timeperiods&targetperiods&timeframe&numrecenteperiods&start&end&start_period&end_period"}]);ft.usePlugin(Object(j.a)({useHash:!1,base:"/indicators/iptt_report"})),ft.subscribe(dt.updateRoute),ft.start(),dt.init(ft),S.a.render(E.a.createElement(F.a,{rootStore:dt,labels:ut},E.a.createElement(ct,null)),document.querySelector("#id_div_content"))}},[["mYfJ",0,1]]]);