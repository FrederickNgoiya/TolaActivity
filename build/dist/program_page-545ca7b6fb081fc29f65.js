(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1d5Q":function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return u});var i=r("2vnA"),n=r("5/4V");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a="undefined"!=typeof gettext?gettext:function(e){return e},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return[function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{pk:parseInt(e.pk),name:e.name,resultsFramework:Boolean(e.results_framework),_resultChainFilterLabel:e.by_result_chain||a("by Outcome chain"),get resultChainFilterLabel(){return this.resultsFramework?this._resultChainFilterLabel:null}}}].concat(t).reduce(function(e,t){return Object(i.i)(e,t(r))},{})}},l=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{reportingPeriodStart:new Date(e.reporting_period_start_iso),reportingPeriodEnd:new Date(e.reporting_period_end_iso)}},s=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{_indicatorsLevelOrder:Object(i.n)(e.indicator_pks_level_order||[]),_indicatorsChainOrder:Object(i.n)(e.indicator_pks_chain_order||[]),_applyOrderUpdate:function(e){var a=this;Object(i.p)(function(){return a._indicatorsLevelOrder=e.indicator_pks_level_order||[],a._indicatorsChainOrder=e.indicator_pks_chain_order||[],Object.entries(e.indicators||{}).forEach(function(e){var t=o(e,2),r=t[0],n=t[1];!isNaN(parseInt(r))&&a.indicators.has(parseInt(r))&&a.indicators.get(parseInt(r)).updateData(n)}),e})},updateOrder:function(){return n.a.programLevelOrdering(this.pk).then(this._applyOrderUpdate.bind(this))},get indicatorsInLevelOrder(){var t=this;return this._indicatorsLevelOrder.map(function(e){return t.indicators.get(e)})},get indicatorsInChainOrder(){var t=this;return this.hasOwnProperty("resultsFramework")&&!1===this.resultsFramework?this.indicatorsInLevelOrder:this._indicatorsChainOrder.map(function(e){return t.indicators.get(e)})}}},u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{_levelsLevelOrder:Object(i.n)(e.level_pks_level_order||[]),_levelsChainOrder:Object(i.n)(e.level_pks_chain_order||[]),_unassignedIndicators:Object(i.n)(e.unassigned_indicator_pks||[]),levelIndicators:Object(i.n)(new Map((e.indicator_pks_for_level||[]).map(function(e){return[e.pk,e.indicator_pks]}))),updateOrder:function(){var t=this;return n.a.rfLevelOrdering(this.pk).then(function(e){Object(i.p)(function(){return t._levelsLevelOrder=e.level_pks_level_order||[],t._levelsChainOrder=e.level_pks_chain_order||[],t._unassignedIndicators=e.unassigned_indicator_pks||[],t._updateLevelIndicatorsOrder(e.indicator_pks_for_level),!0})})},get levelsInLevelOrder(){var t=this;return this._levelsLevelOrder.map(function(e){return t.levels.get(e)})||[]},get levelsInChainOrder(){var t=this;return this.hasOwnProperty("resultsFramework")&&!1===this.resultsFramework?this.levelsInLevelOrder:this._levelsChainOrder.map(function(e){return t.levels.get(e)})||[]},get unassignedIndicators(){var t=this;return this._unassignedIndicators.map(function(e){return t.indicators.get(e)})||[]},get indicatorsInLevelOrder(){var t=this;return this.resultsFramework?Array.prototype.concat.apply([],this.levelsInLevelOrder.map(function(e){return t.levelIndicators.get(e.pk).filter(function(e){return t.indicators.has(e)}).map(function(e){return t.indicators.get(e)})})).concat(this.unassignedIndicators):this.unassignedIndicators},get indicatorsInChainOrder(){var t=this;return this.resultsFramework?Array.prototype.concat.apply([],this.levelsInChainOrder.map(function(e){return t.levelIndicators.get(e.pk).filter(function(e){return t.indicators.has(e)}).map(function(e){return t.indicators.get(e)})})).concat(this.unassignedIndicators):this.unassignedIndicators},_updateLevelIndicatorsOrder:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Object(i.p)(function(){n.levelIndicators.clear(),e.forEach(function(e){var t=e.pk,r=e.indicator_pks;n.levelIndicators.set(t,r)})})}}}},"5/4V":function(e,t,r){"use strict";var n=r("vDqi"),a=r.n(n),i=r("Qyje"),o=r.n(i),c={apiInstance:a.a.create({withCredentials:!0,baseURL:"/indicators/api/",responseType:"json",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}}),documentInstance:a.a.create({withCredentials:!0,baseURL:"/indicators/api/",responseType:"document",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")},transformResponse:[function(e){return(new XMLSerializer).serializeToString(e)}]}),formPostInstance:a.a.create({withCredentials:!0,baseURL:"/indicators/api/",responseType:"json",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1"),"content-type":"application/x-www-form-urlencoded"}}),logFailure:function(e){},getProgramPageUrl:function(e){return!isNaN(parseInt(e))&&"/program/".concat(e,"/")},programLevelOrdering:function(e){return this.apiInstance.get("/program/ordering/".concat(e,"/")).then(function(e){return e.data}).catch(this.logFailure)},rfLevelOrdering:function(e){return this.apiInstance.get("/program/level_ordering/".concat(e,"/")).then(function(e){return e.data}).catch(this.logFailure)},indicatorResultsTable:function(e){return this.documentInstance.get("/result_table/".concat(e,"/"),{params:{raw:!0}}).then(function(e){return e.data}).catch(this.logFailure)},updateProgramPageIndicator:function(e){return this.apiInstance.get("/program_page/indicator/".concat(e,"/")).then(function(e){return e.data}).catch(this.logFailure)},updateAllProgramPageIndicators:function(e){return this.apiInstance.get("/program_page/".concat(e,"/")).then(function(e){return e.data}).catch(this.logFailure)},ipttFilterData:function(e){return this.apiInstance.get("/iptt/".concat(e,"/filter_data/")).then(function(e){return e.data}).catch(this.logFailure)},getIPTTReportData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.programPk,r=e.frequency,n=e.reportType;return this.apiInstance.get("/iptt/".concat(t,"/report_data/"),{params:{frequency:r,report_type:n}}).then(function(e){return e.data}).catch(this.logFailure)},savePinnedReport:function(e){return this.formPostInstance.post("/pinned_report/",o.a.stringify(e)).catch(this.logFailure)},updateIPTTIndicator:function(e){return this.apiInstance.get("/iptt/indicator/".concat(e,"/")).then(function(e){return e.data}).catch(this.logFailure)}};t.a=c},LBcr:function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return c});var n=window.userLang,a="numeric",i={year:a,month:"short",day:a};function o(e){return new Date(e)}function c(e){return new Intl.DateTimeFormat(n,i).format(e)}},"My+N":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i});var n=r("2vnA"),a=("undefined"!=typeof gettext&&gettext,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(r){return[function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{pk:parseInt(e.pk),name:e.name,levelPk:!isNaN(parseInt(e.level_pk))&&parseInt(e.level_pk),oldLevelDisplay:e.old_level_name||!1,meansOfVerification:e.means_of_verification||!1}}].concat(t).reduce(function(e,t){return Object(n.i)(e,t(r))},{})}}),i=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{_formatDecimal:function(e){return!isNaN(parseFloat(e))&&(e=parseFloat(e),Number.isInteger(e)?parseInt(e):e)},frequency:parseInt(e.target_frequency),unitOfMeasure:e.unit_of_measure||!1,isPercent:Boolean(e.is_percent),isCumulative:Boolean(e.is_cumulative),directionOfChange:e.direction_of_change||!1,baseline:e.baseline||null,_lopTarget:e.lop_target,get lopTarget(){return this._formatDecimal(this._lopTarget)}}}},"WtQ/":function(e,t,r){"use strict";function n(){$(function(){var e=0===window.performance.getEntriesByType("navigation")[0].transferSize,t="reload"===window.performance.getEntriesByType("navigation")[0].type;e&&!t&&window.location.reload()})}r.d(t,"a",function(){return n})},aJgA:function(e,t,r){"use strict";r.r(t);var n,a,i,o=r("q1tI"),I=r.n(o),c=r("i8i4"),l=r.n(c),s=r("qtBC"),u=r("wgi2"),d=r("0pHI"),p=r("TSYQ"),O=r.n(p),g=r("okNM"),f=r("hzyr"),m=r("7O5W"),h=r("IP2g"),v=r("wHSu"),k=r("v38i"),y=r("y2Vs");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function T(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}m.b.add(v.b,v.c);var j,P,F=Object(g.c)(n=function(e){function r(e){var t;return _(this,r),(t=T(this,S(r).call(this,e))).onShowAllClick=function(e){e.preventDefault(),s.a.emit("nav-clear-all-indicator-filters")},t}return C(r,I.a.Component),E(r,[{key:"render",value:function(){var e=this.props,t=e.indicatorCount,r=e.programId,n=e.currentIndicatorFilter,a=e.filterApplied,i=e.readonly;return I.a.createElement("div",{className:"indicators-list__header"},I.a.createElement("h3",{className:"no-bold"},I.a.createElement("span",{id:"indicators-list-title"},function(e,t){var r;switch(e){case k.f.missingTarget:return r=ngettext("%s indicator has missing targets","%s indicators have missing targets",t),interpolate(r,[t]);case k.f.missingResults:return r=ngettext("%s indicator has missing results","%s indicators have missing results",t),interpolate(r,[t]);case k.f.missingEvidence:return r=ngettext("%s indicator has missing evidence","%s indicators have missing evidence",t),interpolate(r,[t]);case k.f.aboveTarget:return r=ngettext("%s indicator is >15% above target","%s indicators are >15% above target",t),interpolate(r,[t]);case k.f.belowTarget:return r=ngettext("%s indicator is >15% below target","%s indicators are >15% below target",t),interpolate(r,[t]);case k.f.onTarget:return r=ngettext("%s indicator is on track","%s indicators are on track",t),interpolate(r,[t]);default:return r=ngettext("%s indicator","%s indicators",t),interpolate(r,[t])}}(n,t)),a&&I.a.createElement("a",{className:"ml-2",href:"#",id:"show-all-indicators",onClick:this.onShowAllClick},I.a.createElement("small",null,gettext("Show all")))),I.a.createElement("div",null,!i&&I.a.createElement(f.a,{readonly:i,programId:r})))}}]),r}())||n,L=Object(g.c)(a=function(e){function i(){var e,t;_(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=T(this,(e=S(i)).call.apply(e,[this].concat(n)))).onIndicatorSelection=function(e){var t=e?e.value:null;t&&s.a.emit("nav-select-indicator-to-filter",t)},t.onGroupingSelection=function(e){t.props.uiStore.setGroupBy(e.value)},t}return C(i,I.a.Component),E(i,[{key:"render",value:function(){var t=this,e=this.props.rootStore.allIndicators.map(function(e){return{value:e.pk,label:e.name}}),r=this.props.uiStore.selectedIndicatorId?e.find(function(e){return e.value===t.props.uiStore.selectedIndicatorId}):null,n=this.props.uiStore.groupByOptions,a=this.props.uiStore.selectedGroupByOption;return I.a.createElement("nav",{className:"list__filters list__filters--block-label",id:"id_div_indicators"},I.a.createElement("div",{className:"form-group"},I.a.createElement("label",{className:""},gettext("Find an indicator:")),I.a.createElement("div",{className:""},I.a.createElement(y.default,{options:e,value:r,isClearable:!1,placeholder:gettext("None"),onChange:this.onIndicatorSelection}))),this.props.uiStore.resultChainFilterLabel&&I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"form-group"},I.a.createElement("label",{className:""},gettext("Group indicators:")),I.a.createElement("div",{className:""},I.a.createElement(y.default,{options:n,value:a,isClearable:!1,onChange:this.onGroupingSelection})))))}}]),i}())||a,R=Object(g.c)(i=function(e){function r(e){var t;return _(this,r),(t=T(this,S(r).call(this,e))).onIndicatorUpdateClick=t.onIndicatorUpdateClick.bind(N(t)),t.onIndicatorResultsToggleClick=t.onIndicatorResultsToggleClick.bind(N(t)),t}return C(r,I.a.Component),E(r,[{key:"onIndicatorUpdateClick",value:function(e,t){e.preventDefault(),s.a.emit("open-indicator-update-modal",t)}},{key:"onIndicatorResultsToggleClick",value:function(e,t){e.preventDefault(),this.props.program.resultsMap.has(t)?this.props.program.deleteResultsHTML(t):this.props.program.updateResultsHTML(t)}},{key:"render",value:function(){var o=this,e=this.props.indicators,c=this.props.program,l=this.props.program.resultsMap;return I.a.createElement("table",{className:"table indicators-list"},I.a.createElement("thead",null,I.a.createElement("tr",{className:"table-header"},I.a.createElement("th",{className:"",id:"id_indicator_name_col_header"},gettext("Indicator")),I.a.createElement("th",{className:"",id:"id_indicator_buttons_col_header"}," "),!c.resultsFramework&&I.a.createElement("th",{className:"",id:"id_indicator_level_col_header"},gettext("Level")),I.a.createElement("th",{className:"",id:"id_indicator_unit_col_header"},gettext("Unit of measure")),I.a.createElement("th",{className:"text-right",id:"id_indicator_baseline_col_header"},gettext("Baseline")),I.a.createElement("th",{className:"text-right",id:"id_indicator_target_col_header"},gettext("Target")))),I.a.createElement("tbody",null,e.map(function(t){var e=l.has(t.pk),r=e?l.get(t.pk):"",n=t.targetPeriodLastEndDate,a=t.isPercent?function(e){return e?"".concat(e,"%"):""}:function(e){return e?"".concat(e):""},i=function(e){return""==e||isNaN(parseFloat(e))?"":"00"==(e=parseFloat(e).toFixed(2)).slice(-2)?a(e.slice(0,-3)):"0"==e.slice(-1)?a(e.slice(0,-1)):a(e)};return I.a.createElement(I.a.Fragment,{key:t.pk},I.a.createElement("tr",{className:O()("indicators-list__row","indicators-list__indicator-header",{"is-highlighted":t.wasJustCreated,"is-expanded":e})},I.a.createElement("td",null,I.a.createElement("a",{href:"#",className:"indicator_results_toggle btn text-action text-left",tabIndex:"0",onClick:function(e){return o.onIndicatorResultsToggleClick(e,t.pk)}},I.a.createElement(h.a,{icon:e?"caret-down":"caret-right"}),I.a.createElement("strong",null,t.number?t.number+":":"")," ",I.a.createElement("span",{className:"indicator_name"},t.name)),t.isKeyPerformanceIndicator&&I.a.createElement("span",{className:"badge"},"KPI"),n&&c.reportingPeriodEnd>n&&I.a.createElement("a",{href:"/indicators/indicator_update/".concat(t.pk,"/"),className:"indicator-link color-red missing_targets","data-toggle":"modal","data-target":"#indicator_modal_div","data-tab":"targets"},I.a.createElement("i",{className:"fas fa-bullseye"})," ",gettext("Missing targets"))),I.a.createElement("td",null,I.a.createElement("a",{href:"#",className:"indicator-link",onClick:function(e){return o.onIndicatorUpdateClick(e,t.pk)}},I.a.createElement("i",{className:"fas fa-cog"}))),!c.resultsFramework&&I.a.createElement("td",null,t.oldLevelDisplay),I.a.createElement("td",null,t.unitOfMeasure),I.a.createElement("td",{className:"text-right"},null===t.baseline?gettext("N/A"):i(t.baseline)),I.a.createElement("td",{className:"text-right"},i(t.lopTarget))),e&&I.a.createElement("tr",{className:"indicators-list__row indicators-list__indicator-body"},I.a.createElement("td",{colSpan:"6",ref:function(e){return $(e).find('[data-toggle="popover"]').popover({html:!0})}},I.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}))))})))}}]),r}())||i,M=Object(g.c)(function(e){var t=e.rootStore.program;return I.a.createElement(I.a.Fragment,null,I.a.createElement(F,{indicatorCount:e.rootStore.indicators.length,programId:t.pk,currentIndicatorFilter:e.uiStore.currentIndicatorFilter,filterApplied:e.uiStore.filterApplied,readonly:e.rootStore.readOnly}),I.a.createElement(L,{uiStore:e.uiStore,rootStore:e.rootStore}),t.needsAdditionalTargetPeriods&&I.a.createElement("div",{id:"id_missing_targets_msg",className:"color-red"},I.a.createElement("i",{className:"fas fa-bullseye"})," ",gettext("Some indicators have missing targets. To enter these values, click the target icon near the indicator name.")),I.a.createElement(R,{indicators:e.rootStore.indicators,program:t}))});r("LBcr");function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t,r){return t&&U(e.prototype,t),r&&U(e,r),e}function q(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q,V,X,K,Y=Object(g.c)(j=function(e){function i(){var e,t;z(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=q(this,(e=G(i)).call.apply(e,[this].concat(n)))).handleClick=function(e){e.preventDefault(),t.props.disabled||0==t.unfilledPercent||s.a.emit("nav-apply-gauge-tank-filter",t.props.filterType)},t}return J(i,I.a.Component),H(i,[{key:"render",value:function(){var e=this.props,t=e.allIndicatorsLength,r=e.filteredIndicatorsLength,n=e.title,a=e.filledLabel,i=e.unfilledLabel,o=e.cta,c=e.emptyLabel,l=e.disabled,s=this.props.filterType===this.props.currentIndicatorFilter,u=t<=0||t==r?100:0==r?0:Math.max(1,Math.min(Math.round(r/t*100),99)),d=100-(this.unfilledPercent=u);return I.a.createElement("div",{className:O()("gauge",{"filter-trigger":0<u&&!l,"is-highlighted":s}),onClick:this.handleClick},I.a.createElement("h6",{className:"gauge__title"},n),I.a.createElement("div",{className:"gauge__overview"},I.a.createElement("div",{className:"gauge__graphic gauge__graphic--tank{% if filled_percent == 0 %} gauge__graphic--empty{% endif %}"},I.a.createElement("div",{className:"graphic__tick-marks"},A(Array(10)).map(function(e,t){return I.a.createElement("div",{key:t,className:"graphic__tick"})})),I.a.createElement("div",{className:"graphic__tank--unfilled",style:{flexBasis:"".concat(u,"%")}}),I.a.createElement("div",{className:"graphic__tank--filled",style:{flexBasis:"".concat(d,"%")}})),I.a.createElement("div",{className:"gauge__labels"},0<d?I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"gauge__label text-muted"},u,"% ",i),I.a.createElement("div",{className:"gauge__label"},I.a.createElement("span",{className:"gauge__value"},d,"% ",a))):I.a.createElement("div",{className:"gauge__label"},I.a.createElement("span",{className:"text-danger"},I.a.createElement("strong",null,c))))),0<u&&!l&&I.a.createElement("div",{className:"gauge__cta"},I.a.createElement("span",{className:"btn-link btn-inline"},I.a.createElement("i",{className:"fas fa-exclamation-triangle text-warning"})," ",o)," "))}}]),i}())||j,Z=Object(g.c)(P=function(e){function r(e){var t;return z(this,r),(t=q(this,G(r).call(this,e))).onFilterLinkClick=function(e,t){e.preventDefault(),s.a.emit("nav-apply-gauge-tank-filter",t)},t.handledFilterTypes=new Set([k.f.aboveTarget,k.f.belowTarget,k.f.onTarget]),t}return J(r,I.a.Component),H(r,[{key:"componentDidUpdate",value:function(){$(this.el).find('[data-toggle="popover"]').popover({html:!0})}},{key:"render",value:function(){var t=this,e=this.props,r=e.rootStore,n=e.currentIndicatorFilter,a=e.program,i=this.handledFilterTypes.has(n),o=r.allIndicators.length,c=r.getIndicatorsNotReporting.length,l=r.getIndicatorsAboveTarget.length,s=r.getIndicatorsBelowTarget.length,u=r.getIndicatorsOnTarget.length,d=0<o?function(e){return e==o?100:0==e?0:Math.max(1,Math.min(Math.round(e/o*100),99))}:function(e){return 0},p=d(l),g=d(u),f=d(s),m=d(c),h=100*this.props.rootStore.onScopeMargin,v=(a.reportingPeriodStart,0===r.getIndicatorsReporting.length||0===r.getTotalResultsCount),y=function(){var e=gettext("<strong>%(percentHigh)s%</strong> are >%(marginPercent)s% above target");return{__html:interpolate(e,{percentHigh:p,marginPercent:h},!0)}},b=function(){var e=gettext("<strong>%s%</strong> are on track");return{__html:interpolate(e,[g])}},_=function(){var e=gettext("<strong>%(percentBelow)s%</strong> are >%(marginPercent)s% below target");return{__html:interpolate(e,{percentBelow:f,marginPercent:h},!0)}};return I.a.createElement(function(e){return I.a.createElement("div",{className:O()("gauge",{"is-highlighted":i}),ref:function(e){return t.el=e}},I.a.createElement("h6",{className:"gauge__title"},gettext("Indicators on track")),I.a.createElement("div",{className:"gauge__overview"},e.children))},null,I.a.createElement("div",{className:"gauge__graphic gauge__graphic--performance-band"},I.a.createElement("div",{className:"graphic__tick-marks"},A(Array(10)).map(function(e,t){return I.a.createElement("div",{key:t,className:"graphic__tick"})})),I.a.createElement("div",{className:"graphic__performance-band--above-target",style:{flexBasis:"".concat(p,"%")}}),I.a.createElement("div",{className:"graphic__performance-band--on-target",style:{flexBasis:"".concat(g,"%")}}),I.a.createElement("div",{className:"graphic__performance-band--below-target",style:{flexBasis:"".concat(f,"%")}})),v?I.a.createElement("div",{className:"gauge__labels"},I.a.createElement("div",{className:"gauge__label"},I.a.createElement("p",{className:"text-muted"},gettext("Unavailable until the first target period ends with results reported.")))):I.a.createElement(function(e){return I.a.createElement("div",{className:"gauge__labels"},I.a.createElement("div",{className:"gauge__label"},I.a.createElement("span",{className:"text-muted"},interpolate(gettext("%(percentNonReporting)s% unavailable"),{percentNonReporting:m},!0))," ",I.a.createElement("a",{href:"#",tabIndex:"0","data-toggle":"popover","data-placement":"right","data-trigger":"focus","data-content":gettext("The indicator has no targets, no completed target periods, or no results reported."),onClick:function(e){return e.preventDefault()}},I.a.createElement("i",{className:"far fa-question-circle"}))),I.a.createElement("div",{className:"gauge__label"},I.a.createElement("span",{className:"gauge__value--above filter-trigger--band",onClick:function(e){return t.onFilterLinkClick(e,k.f.aboveTarget)},dangerouslySetInnerHTML:y()})),I.a.createElement("div",{className:"gauge__label"},I.a.createElement("span",{className:"gauge__value filter-trigger--band",onClick:function(e){return t.onFilterLinkClick(e,k.f.onTarget)},dangerouslySetInnerHTML:b()})," ",I.a.createElement("a",{href:"#",tabIndex:"0","data-toggle":"popover","data-placement":"right","data-trigger":"focus","data-content":gettext("The actual value matches the target value, plus or minus 15%. So if your target is 100 and your result is 110, the indicator is 10% above target and on track.  <br><br>Please note that if your indicator has a decreasing direction of change, then “above” and “below” are switched. In that case, if your target is 100 and your result is 200, your indicator is 50% below target and not on track.<br><br><a href='https://docs.google.com/document/d/1Gl9bxJJ6hdhCXeoOCoR1mnVKZa2FlEOhaJcjexiHzY0' target='_blank'>See our documentation for more information.</a>"),onClick:function(e){return e.preventDefault()}},I.a.createElement("i",{className:"far fa-question-circle"}))),I.a.createElement("div",{className:"gauge__label"},I.a.createElement("span",{className:"gauge__value--below filter-trigger--band",onClick:function(e){return t.onFilterLinkClick(e,k.f.belowTarget)},dangerouslySetInnerHTML:_()})))},null))}}]),r}())||P,ee=Object(g.c)(function(e){var t=e.rootStore.program,r=e.rootStore.allIndicators,n=e.uiStore.currentIndicatorFilter,a=e.rootStore.indicatorOnScopeMargin,i={title:gettext("Indicators with targets"),filledLabel:gettext("have targets"),unfilledLabel:gettext("no targets"),cta:gettext("Indicators missing targets"),emptyLabel:gettext("No targets")},o={title:gettext("Indicators with results"),filledLabel:gettext("have results"),unfilledLabel:gettext("no results"),cta:gettext("Indicators missing results"),emptyLabel:gettext("No results")},c={title:gettext("Results with evidence"),filledLabel:gettext("have evidence"),unfilledLabel:gettext("no evidence"),cta:gettext("Indicators missing evidence"),emptyLabel:gettext("No evidence")},l=r.map(function(e){return e.hasAllTargetsDefined}).some(function(e){return e}),s=r.map(function(e){return e.resultsCount}).some(function(e){return 0<e});return 0===r.length?null:I.a.createElement("div",{className:"status__gauges"},I.a.createElement(Z,{currentIndicatorFilter:n,indicatorOnScopeMargin:a,rootStore:e.rootStore,program:t}),I.a.createElement(Y,D({filterType:k.f.missingTarget,currentIndicatorFilter:n,allIndicatorsLength:r.length,filteredIndicatorsLength:e.rootStore.getIndicatorsNeedingTargets.length},i)),I.a.createElement(Y,D({filterType:k.f.missingResults,currentIndicatorFilter:n,allIndicatorsLength:r.length,filteredIndicatorsLength:e.rootStore.getIndicatorsNeedingResults.length,disabled:!l},o)),I.a.createElement(Y,D({filterType:k.f.missingEvidence,currentIndicatorFilter:n,allIndicatorsLength:e.rootStore.getTotalResultsCount,filteredIndicatorsLength:e.rootStore.getTotalResultsCount-e.rootStore.getTotalResultsWithEvidenceCount,disabled:!l||!s},c)))}),te=r("2vnA"),re=r("5/4V"),ne=r("1d5Q"),ae=r("My+N"),ie=Object(ae.a)(ae.b,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{number:e.number||!1,wasJustCreated:Boolean(e.was_just_created),isKeyPerformanceIndicator:Boolean(e.is_key_performance_indicator),isReporting:Boolean(e.is_reporting),hasAllTargetsDefined:Boolean(e.has_all_targets_defined),resultsCount:!isNaN(parseInt(e.results_count))&&parseInt(e.results_count),hasResults:Boolean(e.has_results),resultsWithEvidenceCount:!isNaN(parseInt(e.results_with_evidence_count))&&parseInt(e.results_with_evidence_count),missingEvidence:Boolean(e.missing_evidence),mostRecentlyCompletedTargetEndDate:e.target_frequency&&e.most_recent_completed_target_end_date?new Date(e.most_recent_completed_target_end_date):null,targetPeriodLastEndDate:e.target_frequency&&e.target_period_last_end_date?new Date(e.target_period_last_end_date):null,_overUnder:!isNaN(parseInt(e.over_under))&&parseInt(e.over_under),get belowTarget(){return this.isReporting&&!1!==this._overUnder&&this._overUnder<0},get aboveTarget(){return this.isReporting&&!1!==this._overUnder&&0<this._overUnder},get inScope(){return this.isReporting&&!1!==this._overUnder&&0==this._overUnder},updateData:function(e){e.pk&&!isNaN(parseInt(e.pk))&&parseInt(e.pk)===this.pk&&(this.number=e.number||!1)}}}),oe=Object(ne.a)(ne.d,ne.b,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{indicators:e.indicators?new Map(Object.values(e.indicators).map(function(e){return new ie(e)}).map(function(e){return[e.pk,e]})):new Map,resultsMap:Object(te.n)(new Map),needsAdditionalTargetPeriods:Boolean(e.needs_additional_target_periods),getResultsHTML:function(e){return this.resultsMap.get(e)||!1},updateResultsHTML:function(t){var r=this;t&&re.a.indicatorResultsTable(t).then(function(e){Object(te.p)(function(){return r.resultsMap.set(t,e),!0})})},deleteResultsHTML:Object(te.d)(function(e){return!!this.resultsMap.get(e)&&(this.resultsMap.delete(e),!0)}),deleteAllResultsHTML:Object(te.d)(function(){this.resultsMap.clear()}),updateIndicator:Object(te.d)(function(e){var r=this;return re.a.updateProgramPageIndicator(e).then(function(e){if(e.indicator){var t=ie(e.indicator);r.indicators.set(t.pk,t)}return e}).then(this._applyOrderUpdate.bind(this))}),reloadIndicators:Object(te.d)(function(){var t=this;return re.a.updateAllProgramPageIndicators(this.pk).then(function(e){return t.indicators=new Map((e.indicators||[]).map(ie).map(function(e){return[e.pk,e]})),e}).then(this._applyOrderUpdate.bind(this))}),deleteIndicator:Object(te.d)(function(t){var r=this;return this.updateOrder().then(function(e){return r.indicators.delete(t)})})}});function ce(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(r,n,e,t,a){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var ue,de,pe,ge=(V=se((Q=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,"currentIndicatorFilter",V,this),ce(this,"selectedIndicatorId",X,this),ce(this,"groupByChain",K,this),this.setIndicatorFilter=this.setIndicatorFilter.bind(this),this.clearIndicatorFilter=this.clearIndicatorFilter.bind(this),this.setSelectedIndicatorId=this.setSelectedIndicatorId.bind(this),this.rootStore=e}var e,r,n;return e=t,(r=[{key:"setIndicatorFilter",value:function(e){this.currentIndicatorFilter=e}},{key:"clearIndicatorFilter",value:function(){this.currentIndicatorFilter=null,this.selectedIndicatorId=null}},{key:"setSelectedIndicatorId",value:function(e){this.clearIndicatorFilter(),this.selectedIndicatorId=e,this.rootStore.program.updateResultsHTML(e)}},{key:"setGroupBy",value:function(e){this.groupByChain=1==e}},{key:"filterApplied",get:function(){return!(!this.currentIndicatorFilter&&!this.selectedIndicatorId)}},{key:"resultChainFilterLabel",get:function(){return this.rootStore.program.resultChainFilterLabel}},{key:"groupByOptions",get:function(){return[{value:1,label:this.resultChainFilterLabel},{value:2,label:gettext("by Level")}]}},{key:"selectedGroupByOption",get:function(){return this.groupByChain?this.groupByOptions[0]:this.groupByOptions[1]}}])&&le(e.prototype,r),n&&le(e,n),t}()).prototype,"currentIndicatorFilter",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=se(Q.prototype,"selectedIndicatorId",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=se(Q.prototype,"groupByChain",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),se(Q.prototype,"setIndicatorFilter",[te.d],Object.getOwnPropertyDescriptor(Q.prototype,"setIndicatorFilter"),Q.prototype),se(Q.prototype,"clearIndicatorFilter",[te.d],Object.getOwnPropertyDescriptor(Q.prototype,"clearIndicatorFilter"),Q.prototype),se(Q.prototype,"setSelectedIndicatorId",[te.d],Object.getOwnPropertyDescriptor(Q.prototype,"setSelectedIndicatorId"),Q.prototype),se(Q.prototype,"filterApplied",[te.f],Object.getOwnPropertyDescriptor(Q.prototype,"filterApplied"),Q.prototype),se(Q.prototype,"resultChainFilterLabel",[te.f],Object.getOwnPropertyDescriptor(Q.prototype,"resultChainFilterLabel"),Q.prototype),se(Q.prototype,"groupByOptions",[te.f],Object.getOwnPropertyDescriptor(Q.prototype,"groupByOptions"),Q.prototype),se(Q.prototype,"selectedGroupByOption",[te.f],Object.getOwnPropertyDescriptor(Q.prototype,"selectedGroupByOption"),Q.prototype),se(Q.prototype,"setGroupBy",[te.d],Object.getOwnPropertyDescriptor(Q.prototype,"setGroupBy"),Q.prototype),Q);function fe(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(r,n,e,t,a){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i}var ve,ye=(de=he((ue=function(){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.programJSON,r=void 0===t?{}:t,n=e.onScopeMargin,a=void 0===n?.15:n,i=e.deletePinnedReportURL,o=void 0===i?null:i,c=e.readOnly,l=void 0===c||c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),fe(this,"program",de,this),fe(this,"uiStore",pe,this),this.readOnly=l,this.onScopeMargin=a,this.deletePinnedReportURL=o,this.program=oe(r),this.uiStore=new ge(this)}var e,t,r;return e=s,(t=[{key:"filterIndicators",value:function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(e){case k.f.missingTarget:t=this.getIndicatorsNeedingTargets;break;case k.f.missingResults:t=this.getIndicatorsNeedingResults;break;case k.f.missingEvidence:t=this.getIndicatorsNeedingEvidence;break;case k.f.aboveTarget:t=this.getIndicatorsAboveTarget;break;case k.f.belowTarget:t=this.getIndicatorsBelowTarget;break;case k.f.onTarget:t=this.getIndicatorsOnTarget;break;case k.f.noFilter:default:t=this._sortedIndicators}return r&&!isNaN(parseInt(r))&&(t=t.filter(function(e){return e.pk==parseInt(r)})),t}},{key:"_sortedIndicators",get:function(){return this.program.resultsFramework&&this.uiStore.groupByChain?this.program.indicatorsInChainOrder:this.program.indicatorsInLevelOrder}},{key:"getIndicatorsNeedingTargets",get:function(){return this._sortedIndicators.filter(function(e){return!e.hasAllTargetsDefined})}},{key:"getIndicatorsNeedingResults",get:function(){return this._sortedIndicators.filter(function(e){return!e.hasResults})}},{key:"getIndicatorsNeedingEvidence",get:function(){return this._sortedIndicators.filter(function(e){return e.missingEvidence})}},{key:"getIndicatorsNotReporting",get:function(){return this._sortedIndicators.filter(function(e){return!e.isReporting})}},{key:"getIndicatorsAboveTarget",get:function(){return this._sortedIndicators.filter(function(e){return e.aboveTarget})}},{key:"getIndicatorsBelowTarget",get:function(){return this._sortedIndicators.filter(function(e){return e.belowTarget})}},{key:"getIndicatorsOnTarget",get:function(){return this._sortedIndicators.filter(function(e){return e.inScope})}},{key:"getIndicatorsReporting",get:function(){return this._sortedIndicators.filter(function(e){return e.isReporting})}},{key:"getTotalResultsCount",get:function(){return this.allIndicators.reduce(function(e,t){return e+t.resultsCount},0)}},{key:"getTotalResultsWithEvidenceCount",get:function(){return this.allIndicators.reduce(function(e,t){return e+t.resultsWithEvidenceCount},0)}},{key:"indicators",get:function(){return this.filterIndicators(this.uiStore.currentIndicatorFilter,this.uiStore.selectedIndicatorId)}},{key:"allIndicators",get:function(){return this._sortedIndicators}}])&&me(e.prototype,t),r&&me(e,r),s}()).prototype,"program",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=he(ue.prototype,"uiStore",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he(ue.prototype,"_sortedIndicators",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"_sortedIndicators"),ue.prototype),he(ue.prototype,"getIndicatorsNeedingTargets",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsNeedingTargets"),ue.prototype),he(ue.prototype,"getIndicatorsNeedingResults",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsNeedingResults"),ue.prototype),he(ue.prototype,"getIndicatorsNeedingEvidence",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsNeedingEvidence"),ue.prototype),he(ue.prototype,"getIndicatorsNotReporting",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsNotReporting"),ue.prototype),he(ue.prototype,"getIndicatorsAboveTarget",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsAboveTarget"),ue.prototype),he(ue.prototype,"getIndicatorsBelowTarget",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsBelowTarget"),ue.prototype),he(ue.prototype,"getIndicatorsOnTarget",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsOnTarget"),ue.prototype),he(ue.prototype,"getIndicatorsReporting",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getIndicatorsReporting"),ue.prototype),he(ue.prototype,"getTotalResultsCount",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getTotalResultsCount"),ue.prototype),he(ue.prototype,"getTotalResultsWithEvidenceCount",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"getTotalResultsWithEvidenceCount"),ue.prototype),he(ue.prototype,"indicators",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"indicators"),ue.prototype),he(ue.prototype,"allIndicators",[te.f],Object.getOwnPropertyDescriptor(ue.prototype,"allIndicators"),ue.prototype),ue),be=r("WtQ/");reactContext.deletePinnedReportURL&&(ve=reactContext.deletePinnedReportURL,$("[data-delete-pinned-report]").click(function(e){e.preventDefault();var t=$(this).data("deletePinnedReport"),r=$(this).closest(".pinned-report");ve&&window.confirm(gettext("Warning: This action cannot be undone. Are you sure you want to delete this pinned report?"))&&$.ajax({type:"POST",url:ve,data:{pinned_report_id:t},success:function(){r.remove()}})}));var _e=new ye(reactContext),Ie=_e.uiStore;s.a.on("open-indicator-update-modal",function(e){var t="/indicators/indicator_update/".concat(e,"/");$("#indicator_modal_content").empty(),$("#modalmessages").empty(),$("#indicator_modal_content").load(t),$("#indicator_modal_div").modal("show")}),s.a.on("apply-gauge-tank-filter",function(e){s.a.emit("clear-all-indicator-filters"),Ie.setIndicatorFilter(e)}),s.a.on("clear-all-indicator-filters",function(){Ie.clearIndicatorFilter(),_e.program.deleteAllResultsHTML()}),s.a.on("select-indicator-to-filter",function(e){Ie.clearIndicatorFilter(),Ie.setSelectedIndicatorId(e),_e.program.updateResultsHTML(e)}),l.a.render(I.a.createElement(M,{rootStore:_e,uiStore:Ie}),document.querySelector("#indicator-list-react-component")),l.a.render(I.a.createElement(ee,{rootStore:_e,uiStore:Ie}),document.querySelector("#program-metrics-react-component")),$("#indicator-list-react-component").on("click",".results__link",function(e){e.preventDefault();var t=$(this).attr("href");t+="?modal=1",$("#indicator_modal_content").empty(),$("#modalmessages").empty(),$("#indicator_results_modal_content").load(t),$("#indicator_results_div").modal("show")}),$("#indicator-list-react-component").on("click",".indicator-link[data-tab]",function(e){e.preventDefault();var t=$(this).attr("href");t+="?modal=1";var r=$(this).data("tab");r&&""!=r&&null!=r&&"undefined"!=r&&(t+="&targetsactive=true"),$("#indicator_modal_content").empty(),$("#modalmessages").empty(),$("#indicator_modal_content").load(t),$("#indicator_modal_div").modal("show")}),$("#indicator_modal_div").on("created.tola.indicator.save",function(e,t){_e.program.updateIndicator(t.indicatorId)}),$("#indicator_modal_div").on("updated.tola.indicator.save",function(e,t){var r=t.indicatorId;_e.program.updateIndicator(r),_e.program.resultsMap.has(r)&&_e.program.updateResultsHTML(r)}),$("#indicator_modal_div").on("deleted.tola.indicator.save",function(e,t){_e.program.deleteIndicator(t.indicatorId)}),$("#indicator_results_div").on("hidden.bs.modal",function(e){if(!0===$(this).find("form").data("recordchanged")){var t=$(this).find("form #id_indicator").val();_e.program.updateIndicator(indicatorPk),_e.program.updateResultsHTML(t)}});var Oe=[{name:"all",path:"/",filterType:k.f.noFilter},{name:"targets",path:"/targets",filterType:k.f.missingTarget},{name:"results",path:"/results",filterType:k.f.missingResults},{name:"evidence",path:"/evidence",filterType:k.f.missingEvidence},{name:"scope",path:"/scope",forwardTo:"scope.on"},{name:"scope.on",path:"/on",filterType:k.f.onTarget},{name:"scope.above",path:"/above",filterType:k.f.aboveTarget},{name:"scope.below",path:"/below",filterType:k.f.belowTarget},{name:"indicator",path:"/indicator/:indicator_id<\\d+>",filterType:k.f.noFilter}],ke=Object(u.b)(Oe,{defaultRoute:"all",defaultParams:{},trailingSlashMode:"always"});ke.usePlugin(Object(d.a)({useHash:!0,base:"/program/"+_e.program.pk+"/"})),ke.subscribe(function(e){var t=e.route.name,r=e.route.params;if("indicator"!==t){var n=Oe.find(function(e){return e.name===t});s.a.emit("apply-gauge-tank-filter",n.filterType)}else s.a.emit("select-indicator-to-filter",parseInt(r.indicator_id))}),ke.start(),s.a.on("nav-apply-gauge-tank-filter",function(t){var e=Oe.find(function(e){return e.filterType===t});ke.navigate(e.name)}),s.a.on("nav-clear-all-indicator-filters",function(){ke.navigate("all")}),s.a.on("nav-select-indicator-to-filter",function(e){ke.navigate("indicator",{indicator_id:e})}),Object(be.a)()},hzyr:function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l});var n=r("q1tI"),i=r.n(n),a=r("okNM");function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=Object(a.c)(function(e){var t=e.readonly,r=o(e,["readonly"]);return i.a.createElement("button",{type:"button",disabled:t,className:"btn btn-link btn-add",onClick:function(e){openCreateIndicatorFormModal(r)}},i.a.createElement("i",{className:"fas fa-plus-circle"})," ",gettext("Add indicator"))}),l=Object(a.c)(function(e){var t=e.readonly,r=e.label,n=void 0===r?null:r,a=o(e,["readonly","label"]);return i.a.createElement("button",{type:"button",disabled:t,className:"btn btn-link",onClick:function(e){openUpdateIndicatorFormModal(a)}},i.a.createElement("i",{className:"fas fa-cog"}),n)})},qtBC:function(e,t,r){"use strict";var n=r("7+Rn"),a=r.n(n)()();t.a=a},v38i:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"j",function(){return i}),r.d(t,"g",function(){return o}),r.d(t,"i",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"k",function(){return s}),r.d(t,"h",function(){return u}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return p}),r.d(t,"f",function(){return g});var n={value:null,label:"---------"},a="—",i=1,o=2,c=[3,4,5,6,7],l=[1,2],s=Object.freeze({1:gettext("Life of Program (LoP) only"),2:gettext("Midline and endline"),3:gettext("Annual"),4:gettext("Semi-annual"),5:gettext("Tri-annual"),6:gettext("Quarterly"),7:gettext("Monthly")}),u=Object.freeze({3:gettext("Years"),4:gettext("Semi-annual periods"),5:gettext("Tri-annual periods"),6:gettext("Quarters"),7:gettext("Months")}),d=1,p=2;"undefined"!=typeof gettext&&gettext;var g=Object.freeze({noFilter:0,missingTarget:1,missingResults:2,missingEvidence:3,aboveTarget:5,belowTarget:6,onTarget:7})}},[["aJgA",0,1]]]);