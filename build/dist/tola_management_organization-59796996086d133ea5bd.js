(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DDFe:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=e.isLoading,a=e.className,r=l(e,["children","isLoading","className"]),i=n?"loading":"";return o.a.createElement("div",c({className:"loading-spinner__container "+i+" "+(a||"")},r),o.a.createElement("div",{className:"loading-spinner__overlay"},o.a.createElement("div",{className:"loading-spinner__spinner"})),t)}},H4hL:function(e,t,n){"use strict";n("q1tI")},KnAV:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("okNM"),o=n("IP2g");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(e){var t=e.name,n=e.data;return r.a.createElement("div",{className:"change__field"},r.a.createElement("strong",null,t),": ",null!=n&&null!=n?n.toString():"N/A")},s=function(e){var t=e.data,n=e.is_expanded,a=e.toggle_expando_cb;return r.a.createElement("tr",{className:n?"changelog__entry__header is-expanded":"changelog__entry__header",onClick:function(){return a(t.id)}},r.a.createElement("td",{className:"text-nowrap text-action"},r.a.createElement(o.a,{icon:n?"caret-down":"caret-right"})," ",r.a.createElement("strong",null,t.date)),r.a.createElement("td",{className:"text-nowrap"},t.admin_user),r.a.createElement("td",{className:"text-nowrap"},t.pretty_change_type),r.a.createElement("td",null),r.a.createElement("td",null))},u=function(e){var t=e.data;return"user_programs_updated"==t.change_type?r.a.createElement(r.a.Fragment,null,0<Object.entries(t.diff_list.countries).length&&Object.entries(t.diff_list.countries).map(function(e){var t=c(e,2),n=t[0],a=t[1];return r.a.createElement("tr",{key:n,className:"changelog__entry__row"},r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("div",{className:"changelog__change--prev"},r.a.createElement(l,{name:"country",data:a.prev.country}),r.a.createElement(l,{name:"role",data:a.prev.role}))),r.a.createElement("td",null,r.a.createElement("div",{className:"changelog__change--new"},r.a.createElement(l,{name:"country",data:a.new.country}),r.a.createElement(l,{name:"role",data:a.new.role}))))}),0<Object.entries(t.diff_list.programs).length&&Object.entries(t.diff_list.programs).map(function(e){var t=c(e,2),n=t[0],a=t[1];return r.a.createElement("tr",{key:n,className:"changelog__entry__row"},r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("div",{className:"changelog__change--prev"},r.a.createElement(l,{name:"program",data:a.prev.program}),r.a.createElement(l,{name:"country",data:a.prev.country}),r.a.createElement(l,{name:"role",data:a.prev.role}))),r.a.createElement("td",null,r.a.createElement("div",{className:"changelog__change--new"},r.a.createElement(l,{name:"program",data:a.new.program}),r.a.createElement(l,{name:"country",data:a.new.country}),r.a.createElement(l,{name:"role",data:a.new.role}))))})):r.a.createElement("tr",{className:"changelog__entry__row"},r.a.createElement("td",{className:"text-nowrap"}),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("div",{className:"changelog__change--prev"},t.diff_list.map(function(e,t){return r.a.createElement(l,{key:t,name:e.pretty_name,data:e.prev})}))),r.a.createElement("td",null,r.a.createElement("div",{className:"changelog__change--new"},t.diff_list.map(function(e,t){return r.a.createElement(l,{key:t,name:e.pretty_name,data:e.new})}))))},p=function(e){var t=e.data,n=e.is_expanded,a=e.toggle_expando_cb;return r.a.createElement("tbody",{className:"changelog__entry",key:t.id},r.a.createElement(s,{data:t,is_expanded:n,toggle_expando_cb:a}),n&&r.a.createElement(u,{data:t}))},m=Object(i.c)(function(e){var t=e.data,n=e.expanded_rows,a=e.toggle_expando_cb;return r.a.createElement("table",{className:"table table-sm bg-white table-bordered text-small changelog"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-nowrap"},gettext("Date")),r.a.createElement("th",{className:"text-nowrap"},gettext("Admin")),r.a.createElement("th",{className:"text-nowrap"},gettext("Change Type")),r.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("Previous Entry")),r.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("New Entry")))),t.map(function(e){var t=!0;return n&&(t=n.has(e.id)),r.a.createElement(p,{key:e.id,data:e,is_expanded:t,toggle_expando_cb:a})}))});t.a=m},RCjz:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("werx"),o=n.n(i);n("okNM");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.a=function(e){return r.a.createElement(o.a,c({previousLabel:"‹",previousClassName:"page-item previous",previousLinkClassName:"page-link",nextLabel:"›",nextClassName:"page-item next",nextLinkClassName:"page-link",breakLabel:"...",disabledClassName:"disabled",breakClassName:"page-item disabled",breakLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",marginPagesDisplayed:2,pageRangeDisplayed:5,containerClassName:"pagination",activeClassName:"active"},e))}},TGVD:function(e,t,n){"use strict";var o=n("okNM"),a=n("q1tI"),c=n.n(a),r=n("TSYQ"),l=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=function(e){var t=e.className,n=(e.size,u(e,["className","size"]));return c.a.createElement("td",s({className:["mgmt-table__col",t].join(" ")},n),n.children)},p=function(e){var t=e.className,n=(e.size,u(e,["className","size"]));return c.a.createElement("th",s({className:["mgmt-table__col",t].join(" ")},n),n.children)},m=function(e){var t=e.className,n=u(e,["className"]);return c.a.createElement("tr",s({className:["mgmt-table__row",t].join(" ")},n),n.children)},f=function(e){var t=e.className,n=u(e,["className"]);return c.a.createElement("tr",s({className:["mgmt-table__row table-header",t].join(" ")},n),n.children)},g=Object(o.c)(function(e){var t=e.className,n=e.expanded,a=e.Expando,r=u(e,["className","expanded","Expando"]);if(a){var i=Object(o.c)(a);return c.a.createElement("tbody",s({className:l()(["mgmt-table__body",t].join(" "),{"is-expanded":n})},r),c.a.createElement(m,null,r.children),n&&c.a.createElement(i,{Wrapper:d}))}return c.a.createElement("tbody",s({className:["mgmt-table__body",t].join(" ")},r),c.a.createElement(m,null,r.children))}),d=function(e){var t=e.className,n=u(e,["className"]);return c.a.createElement("tr",s({className:["mgmt-table__row--expanded",t].join(" ")},n),c.a.createElement("td",{colSpan:"6"},n.children))},h=Object(o.c)(function(e){var t=e.data,n=e.Row,a=e.keyField,r=(u(e,["data","Row","keyField"]),Object(o.c)(n));return t.map(function(e){return c.a.createElement(r,{key:e[a],data:e,Col:i,Row:g})})}),y=Object(o.c)(function(e){var t=e.HeaderRow,n=e.className,a=u(e,["HeaderRow","className"]),r=Object(o.c)(t);return c.a.createElement("table",{className:["table bg-white",n].join(" ")},c.a.createElement("thead",null,c.a.createElement(r,{Col:p,Row:f})),c.a.createElement(h,a))});t.a=y},XoI5:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("vDqi"),r=n.n(a).a.create({withCredentials:!0,baseURL:"/api/",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}})},Z2Y6:function(e,t,n){"use strict";var a=n("q1tI"),c=n.n(a),l=n("c7k8");n("y2Vs");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p,m=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=o(this,s(n).call(this,e))).cache=new l.c({fixedWidth:!0,defaultHeight:35}),t.filter_val="",t}var t,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,c.a.PureComponent),t=n,(a=[{key:"render",value:function(){var i=this,e=this.props,o=(e.options,e.children),t=e.maxHeight,n=(e.getValue,e.selectProps),a=o.length||0;return n.inputValue!==this.filter_val&&(this.filter_val=n.inputValue,this.cache.clearAll()),c.a.createElement("div",{style:{display:"flex",height:"100vh",maxHeight:t+"px"}},c.a.createElement("div",{style:{flex:"1 1 auto"}},c.a.createElement(l.a,null,function(e){var t=e.width,n=e.height;return c.a.createElement(l.e,{height:n,width:t,deferredMeasurementCache:i.cache,rowCount:a,rowHeight:i.cache.rowHeight,noRowsRenderer:function(){return c.a.createElement("div",null,"No selections available")},rowRenderer:function(e){var t=e.index,n=e.parent,a=e.key,r=e.style;return c.a.createElement(l.b,{key:a,cache:i.cache,parent:n,columnIndex:0,rowIndex:t},c.a.createElement("div",{style:r},o[t]))}})})))}}])&&i(t.prototype,a),r&&i(t,r),n}(),f=n("VCnP"),g=n.n(f),d=n("okNM");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){return c.a.createElement("div",{className:"count__label"},e.children,e.clearable&&c.a.createElement("div",{onClick:e.clearSelect},c.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))},w=Object(d.c)(p=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=_(this,v(t).call(this,e))).clearSelect=function(e){e.stopPropagation(),a.props.onChange([])},a.makeLabel=function(e){var t=e.placeholderButtonLabel,n=e.value;return n?Array.isArray(n)?0===n.length?c.a.createElement(O,{clearable:!1},t):1===n.length?c.a.createElement(O,{clearable:!0,clearSelect:a.clearSelect},n[0].label):c.a.createElement(O,{clearable:!0,clearSelect:a.clearSelect},"".concat(n.length," ",gettext("selected"))):c.a.createElement(O,{clearable:!1},n.label):c.a.createElement(O,{clearable:!1},t)},a}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,c.a.Component),n=t,(a=[{key:"render",value:function(){return c.a.createElement(g.a,y({},this.props,{placeholder:gettext("Search"),placeholderButtonLabel:this.props.placeholder,getDropdownButtonLabel:this.makeLabel,components:{MenuList:m}}))}}])&&b(n.prototype,a),r&&b(n,r),t}())||p;t.a=w},j6MH:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),l=n.n(a),r=n("i8i4"),i=n.n(r),s=n("2vnA"),o=n("XoI5");function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){u(t,e,n[e])})}return t}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,m,f,g,d,h,y,b,_,v,E,O,w,N,j,z,x,k,P,S=function(e,t){return o.a.get("/tola_management/organization/",{params:c({page:e},t)}).then(function(e){var t=e.data,n=t.count,a=(t.results.length,t.page_count);return{organizations:t.results,total_pages:a,total_organizations:n,next_page:t.next,prev_page:t.previous}})},C=function(e){return o.a.get("/tola_management/organization/".concat(e,"/")).then(function(e){return e.data})},A=function(e){return o.a.get("/tola_management/organization/".concat(e,"/history/")).then(function(e){return e.data})},D=function(e){return o.a.get("/tola_management/organization/".concat(e,"/aggregate_data/")).then(function(e){return e.data})},F=function(e,t){return o.a.put("/tola_management/organization/".concat(e,"/"),c({},t)).then(function(e){return e.data})},R=function(e){return o.a.post("/tola_management/organization/",c({},e)).then(function(e){return e.data})};function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){T(t,e,n[e])})}return t}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function H(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(n,a,e,t,r){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(n,a,e)||e},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(n,a,i),i=null),i}var U,V={id:null,is_active:!1,mode_of_contact:"",name:"",organization_url:null,primary_address:"",primary_contact_email:"",primary_contact_name:"",primary_contact_phone:"",sectors:[]},B=(m=M((p=function(){function c(t,e,n,a,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),H(this,"organizations",m,this),H(this,"organizations_listing",f,this),H(this,"organizations_count",g,this),H(this,"total_pagees",d,this),H(this,"fetching",h,this),H(this,"fetching_editing_target",y,this),H(this,"current_page",b,this),H(this,"saving",_,this),H(this,"bulk_targets",v,this),H(this,"bulk_targets_all",E,this),this.available_programs={},this.available_organizations={},this.available_sectors={},this.available_countries={},this.program_selections=[],this.organization_selections=[],this.sector_selections=[],this.country_selections=[],H(this,"editing_target",O,this),H(this,"editing_target_data",w,this),H(this,"editing_target_history",N,this),H(this,"editing_errors",j,this),H(this,"filters",z,this),H(this,"appliedFilters",x,this),this.organization_status_options=[{value:1,label:gettext("Active")},{value:0,label:gettext("Inactive")}],H(this,"active_editor_pane",k,this),H(this,"changelog_expanded_rows",P,this),this.active_pane_is_dirty=!1,this.available_programs=t,this.available_organizations=e,this.available_sectors=n,this.available_countries=a,this.organization_selections=Object.entries(e).map(function(e){var t=I(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}),this.program_selections=Object.entries(t).map(function(e){var t=I(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}),this.sector_selections=Object.entries(n).map(function(e){var t=I(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}),this.country_selections=Object.entries(a).map(function(e){var t=I(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}),this.filters.countries=r.map(function(e){return o.available_countries[e]}).map(function(e){return{label:e.name,value:e.id}}),this.filters.programs=i.filter(function(e){return t[e]}).map(function(e){return{label:t[e].name,value:e}}),this.appliedFilters=L({},this.filters),this.fetchOrganizations()}var e,t,n;return e=c,(t=[{key:"marshalFilters",value:function(e){return Object.entries(e).reduce(function(e,t){return Array.isArray(t[1])?e[t[0]]=t[1].map(function(e){return e.value}):e[t[0]]=t[1].value,e},{})}},{key:"updateLocalOrganization",value:function(e,t,n){this.organizations[e]={id:e,name:t.name,program_count:n.program_count,user_count:n.user_count,is_active:t.is_active}}},{key:"onSaveErrorHandler",value:function(){PNotify.error({text:gettext("Saving Failed"),delay:5e3})}},{key:"onSaveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully Saved"),delay:5e3})}},{key:"dirtyConfirm",value:function(){return!this.active_pane_is_dirty||this.active_pane_is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"onProfilePaneChange",value:function(e){this.dirtyConfirm()&&(this.active_editor_pane=e,this.active_pane_is_dirty=!1)}},{key:"setActiveFormIsDirty",value:function(e){this.active_pane_is_dirty=e}},{key:"fetchOrganizations",value:function(){var t=this;this.dirtyConfirm()&&(this.fetching=!0,S(this.current_page+1,this.marshalFilters(this.appliedFilters)).then(function(e){Object(s.p)(function(){t.active_editor_pane="profile",t.active_pane_is_dirty=!1,t.fetching=!1,t.organizations=e.organizations.reduce(function(e,t){return e[t.id]=t,e},{}),t.organizations_listing=e.organizations.map(function(e){return e.id}),t.organizations_count=e.total_organizations,t.total_pages=e.total_pages,t.bulk_targets=new Map(Object.entries(t.organizations).map(function(e){var t=I(e,2);t[0];return[t[1].id,!1]}))})}))}},{key:"applyFilters",value:function(){this.appliedFilters=L({},this.filters),this.current_page=0,this.fetchOrganizations()}},{key:"createOrganization",value:function(){if(this.dirtyConfirm()){var e={id:"new",name:"",program_count:0,user_count:0,is_active:!1};"new"!==this.editing_target&&this.organizations_listing.unshift("new"),this.editing_errors={},this.organizations.new=e,this.editing_target=e.id,this.editing_target_data=L({},V),this.active_pane_is_dirty=!1,this.active_editor_pane="profile"}}},{key:"updateOrganizationProfile",value:function(i,e){var o=this;this.saving=!0,F(i,e).then(function(r){return Promise.all([D(i),A(i)]).then(function(e){var t=I(e,2),n=t[0],a=t[1];Object(s.p)(function(){o.saving=!1,o.editing_errors={},o.active_pane_is_dirty=!1,o.editing_target_data=r,o.editing_target_history=a,o.updateLocalOrganization(i,r,n)}),o.onSaveSuccessHandler()})}).catch(function(e){Object(s.p)(function(){o.saving=!1,o.editing_errors=e.response.data}),o.onSaveErrorHandler()})}},{key:"saveNewOrganization",value:function(e){var n=this;this.saving=!0,e.is_active=!0,R(e).then(function(t){return A(t.id).then(function(e){Object(s.p)(function(){n.saving=!1,n.editing_errors={},n.updateLocalOrganization(t.id,t,{program_count:0,user_count:0}),n.organizations_listing.shift(),delete n.organizations.new,n.organizations_listing.unshift(t.id),n.editing_target=t.id,n.editing_target_data=t,n.editing_target_history=e,n.bulk_targets=new Map(Object.entries(n.organizations).map(function(e){var t=I(e,2);t[0];return[t[1].id,!1]})),n.organization_selections=Object.entries(n.organizations).map(function(e){var t=I(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}),n.active_pane_is_dirty=!1}),n.onSaveSuccessHandler()})}).catch(function(e){Object(s.p)(function(){n.saving=!1,n.editing_errors=e.response.data}),n.onSaveErrorHandler()})}},{key:"saveNewOrganizationAndAddAnother",value:function(e){var t=this;this.saving=!0,e.is_active=!0,R(e).then(function(e){Object(s.p)(function(){t.saving=!1,t.editing_errors={},t.updateLocalOrganization(e.id,e,{program_count:0,user_count:0}),t.organizations_listing.shift(),delete t.organizations.new,t.organizations_listing.unshift(e.id),t.editing_target=null,t.editing_target_data=L({},V),t.bulk_targets=new Map(Object.entries(t.organizations).map(function(e){var t=I(e,2);t[0];return[t[1].id,!1]})),t.active_pane_is_dirty=!1,t.createOrganization()}),t.onSaveSuccessHandler()}).catch(function(e){Object(s.p)(function(){t.saving=!1,t.editing_errors=e.response.data}),t.onSaveErrorHandler()})}},{key:"changeSectorFilter",value:function(e){this.filters.sectors=e}},{key:"changeCountryFilter",value:function(e){this.filters.countries=e}},{key:"changeProgramFilter",value:function(e){this.filters.programs=e}},{key:"changeOrganizationFilter",value:function(e){this.filters.organizations=e}},{key:"changeOrganizationStatusFilter",value:function(e){this.filters.organization_status=e}},{key:"changePage",value:function(e){this.current_page!=e.selected&&(this.current_page=e.selected,this.fetchOrganizations())}},{key:"toggleBulkTargetsAll",value:function(){this.bulk_targets_all=!this.bulk_targets_all,this.bulk_targets_all?this.bulk_targets.forEach(function(e,t,n){n.set(t,!0)}):this.bulk_targets.forEach(function(e,t,n){n.set(t,!1)})}},{key:"toggleEditingTarget",value:function(e){var r=this;this.dirtyConfirm()&&(this.editing_target_data=L({},V),this.editing_errors={},"new"==this.editing_target&&this.organizations_listing.shift(),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.editing_target==e?this.editing_target=!1:(this.editing_target=e,this.fetching_editing_target=!0,"new"!=this.editing_target&&Promise.all([C(e),A(e)]).then(function(e){var t=I(e,2),n=t[0],a=t[1];Object(s.p)(function(){r.fetching_editing_target=!1,r.editing_target_data=n,r.editing_target_history=a})})))}},{key:"toggleBulkTarget",value:function(e){this.bulk_targets.set(e,!this.bulk_targets.get(e))}},{key:"clearFilters",value:function(){this.filters={countries:[],organizations:[],programs:[],sectors:[],organization_status:""}}},{key:"toggleChangeLogRowExpando",value:function(e){this.changelog_expanded_rows.has(e)?this.changelog_expanded_rows.delete(e):this.changelog_expanded_rows.add(e)}}])&&q(e.prototype,t),n&&q(e,n),c}()).prototype,"organizations",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=M(p.prototype,"organizations_listing",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=M(p.prototype,"organizations_count",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=M(p.prototype,"total_pagees",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=M(p.prototype,"fetching",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=M(p.prototype,"fetching_editing_target",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=M(p.prototype,"current_page",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=M(p.prototype,"saving",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=M(p.prototype,"bulk_targets",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),E=M(p.prototype,"bulk_targets_all",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=M(p.prototype,"editing_target",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=M(p.prototype,"editing_target_data",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L({},V)}}),N=M(p.prototype,"editing_target_history",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=M(p.prototype,"editing_errors",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z=M(p.prototype,"filters",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{countries:[],organizations:[],programs:[],sectors:[],organization_status:""}}}),x=M(p.prototype,"appliedFilters",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k=M(p.prototype,"active_editor_pane",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"profile"}}),P=M(p.prototype,"changelog_expanded_rows",[s.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),M(p.prototype,"onProfilePaneChange",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"onProfilePaneChange"),p.prototype),M(p.prototype,"fetchOrganizations",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"fetchOrganizations"),p.prototype),M(p.prototype,"applyFilters",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"applyFilters"),p.prototype),M(p.prototype,"createOrganization",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"createOrganization"),p.prototype),M(p.prototype,"updateOrganizationProfile",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"updateOrganizationProfile"),p.prototype),M(p.prototype,"saveNewOrganization",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"saveNewOrganization"),p.prototype),M(p.prototype,"saveNewOrganizationAndAddAnother",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"saveNewOrganizationAndAddAnother"),p.prototype),M(p.prototype,"changeSectorFilter",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"changeSectorFilter"),p.prototype),M(p.prototype,"changeCountryFilter",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"changeCountryFilter"),p.prototype),M(p.prototype,"changeProgramFilter",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"changeProgramFilter"),p.prototype),M(p.prototype,"changeOrganizationFilter",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"changeOrganizationFilter"),p.prototype),M(p.prototype,"changeOrganizationStatusFilter",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"changeOrganizationStatusFilter"),p.prototype),M(p.prototype,"changePage",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"changePage"),p.prototype),M(p.prototype,"toggleBulkTargetsAll",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"toggleBulkTargetsAll"),p.prototype),M(p.prototype,"toggleEditingTarget",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"toggleEditingTarget"),p.prototype),M(p.prototype,"toggleBulkTarget",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"toggleBulkTarget"),p.prototype),M(p.prototype,"clearFilters",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"clearFilters"),p.prototype),M(p.prototype,"toggleChangeLogRowExpando",[s.d],Object.getOwnPropertyDescriptor(p.prototype,"toggleChangeLogRowExpando"),p.prototype),p),W=n("okNM"),J=n("y2Vs"),X=n("TGVD"),Y=n("RCjz"),$=n("Z2Y6");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Z(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te,ne=Object(W.c)(U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,Q(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,l.a.Component),n=t,(a=[{key:"updateActivePage",value:function(e){this.props.new||this.props.notifyPaneChange(e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.ProfileSection,a=e.HistorySection,r=e.active_pane,i="profile"==r?"active":"",o="status_and_history"==r?"active":"";this.props.new;return l.a.createElement("div",{className:"user-editor tab-set--vertical"},l.a.createElement("ul",{className:"nav nav-tabs"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link ".concat(i),onClick:function(e){e.preventDefault(),t.updateActivePage("profile")}},gettext("Profile")),l.a.createElement("a",{href:"#",className:"nav-link ".concat(o),onClick:function(e){e.preventDefault(),t.updateActivePage("status_and_history")}},gettext("Status and History")))),l.a.createElement("div",{className:"tab-content"},"profile"==r&&l.a.createElement(n,null),"status_and_history"==r&&l.a.createElement(a,null)))}}])&&K(n.prototype,a),r&&K(n,r),t}())||U;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){ie(t,e,n[e])})}return t}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=Object(W.c)(te=function(e){function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=ce(this,le(i).call(this,e));var n=e.organizationData,a=e.sectorSelections,r=re({},n,{sectors:a.filter(function(e){return n.sectors.includes(e.value)})});return t.state={initial_data:r,managed_data:re({},r)},t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(i,l.a.Component),t=i,(n=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.state.initial_data))}},{key:"save",value:function(){this.props.onSave(re({},this.state.managed_data,{sectors:this.state.managed_data.sectors.map(function(e){return e.value})}))}},{key:"saveNew",value:function(e){e.preventDefault(),this.props.onSaveNew(re({},this.state.managed_data,{sectors:this.state.managed_data.sectors.map(function(e){return e.value})}))}},{key:"saveNewAndAddAnother",value:function(e){e.preventDefault(),this.props.onSaveNewAndAddAnother(re({},this.state.managed_data,{sectors:this.state.managed_data.sectors.map(function(e){return e.value})}))}},{key:"resetForm",value:function(){var e=this;this.setState({managed_data:this.state.initial_data},function(){return e.hasUnsavedDataAction()})}},{key:"updateName",value:function(e){var t=this,n=this.state.managed_data;n.name=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"updateSectors",value:function(e){var t=this,n=this.state.managed_data;n.sectors=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"updatePrimaryAddress",value:function(e){var t=this,n=this.state.managed_data;n.primary_address=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"updatePrimaryContactName",value:function(e){var t=this,n=this.state.managed_data;n.primary_contact_name=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"updatePrimaryContactEmail",value:function(e){var t=this,n=this.state.managed_data;n.primary_contact_email=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"updatePrimaryContactPhone",value:function(e){var t=this,n=this.state.managed_data;n.primary_contact_phone=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"updateModeOfContact",value:function(e){var t=this,n=this.state.managed_data;n.mode_of_contact=e,this.setState({managed_data:n},function(){return t.hasUnsavedDataAction()})}},{key:"render",value:function(){var t=this,e=this.state.managed_data,n=this.props.errors,a=n.name?"is-invalid":"",r=n.primary_address?"is-invalid":"",i=n.primary_contact_name?"is-invalid":"",o=n.primary_contact_email?"is-invalid":"",c=n.primary_contact_phone?"is-invalid":"";return l.a.createElement("div",{className:"tab-pane--react"},l.a.createElement("h2",{className:"no-bold"},e.name?e.name+": ":"",gettext("Profile")),l.a.createElement("form",{className:"form needs-validation",noValidate:!0},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label--required",htmlFor:"organization-name-input"},gettext("Organization name")),l.a.createElement("input",{type:"text",value:e.name,onChange:function(e){return t.updateName(e.target.value)},className:"form-control "+a,id:"organization-name-input",required:!0}),n.name&&l.a.createElement("div",{className:"invalid-feedback"},n.name)),l.a.createElement("div",{className:"form-group react-multiselect-checkbox"},l.a.createElement("label",{htmlFor:"sectors-input"},"Sectors"),l.a.createElement($.a,{value:e.sectors,options:this.props.sectorSelections,onChange:function(e){return t.updateSectors(e)},placeholder:gettext("None Selected"),id:"sectors-input"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label--required",htmlFor:"primary-address-input"},gettext("Primary Address")),l.a.createElement("textarea",{value:e.primary_address,onChange:function(e){return t.updatePrimaryAddress(e.target.value)},className:"form-control "+r,id:"primary-address-input",required:!0}),n.primary_address&&l.a.createElement("div",{className:"invalid-feedback"},n.primary_address)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label--required",htmlFor:"primary-contact-name-input"},gettext("Primary Contact Name")),l.a.createElement("input",{type:"text",value:e.primary_contact_name,onChange:function(e){return t.updatePrimaryContactName(e.target.value)},className:"form-control "+i,id:"primary-contact-name-input",required:!0}),n.primary_contact_name&&l.a.createElement("div",{className:"invalid-feedback"},n.primary_contact_name)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label--required",htmlFor:"primary-contact-email-input"},gettext("Primary Contact Email")),l.a.createElement("input",{type:"text",value:e.primary_contact_email,onChange:function(e){return t.updatePrimaryContactEmail(e.target.value)},className:"form-control "+o,id:"primary-contact-email-input",required:!0}),n.primary_contact_email&&l.a.createElement("div",{className:"invalid-feedback"},n.primary_contact_email)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label--required",htmlFor:"primary-contact-phone-input"},gettext("Primary Contact Phone Number")),l.a.createElement("input",{type:"text",value:e.primary_contact_phone,onChange:function(e){return t.updatePrimaryContactPhone(e.target.value)},className:"form-control "+c,id:"primary-contact-phone-input",required:!0}),n.primary_contact_phone&&l.a.createElement("div",{className:"invalid-feedback"},n.primary_contact_phone)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"mode-of-contact-input"},gettext("Preferred Mode of Contact")),l.a.createElement("input",{type:"text",value:e.mode_of_contact,onChange:function(e){return t.updateModeOfContact(e.target.value)},className:"form-control",id:"mode-of-contact-input"})),this.props.new&&l.a.createElement("div",{className:"form-group btn-row"},l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return t.saveNew(e)}},gettext("Save Changes")),l.a.createElement("button",{className:"btn btn-secondary",onClick:function(e){return t.saveNewAndAddAnother(e)}},gettext("Save and Add Another")),l.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()}},gettext("Reset"))),!this.props.new&&l.a.createElement("div",{className:"form-group btn-row"},l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return t.save(e)}},gettext("Save Changes")),l.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()}},gettext("Reset")))))}}])&&oe(t.prototype,n),a&&oe(t,a),i}())||te,pe=(n("c7k8"),n("H4hL"),n("KnAV"));function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){ge(t,e,n[e])})}return t}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function he(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=[{value:!0,label:gettext("Active")},{value:!1,label:gettext("Inactive")}],ve=function(e){function a(t){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=he(this,ye(a).call(this,t));var n=fe({},t.organizationData,{is_active:_e.find(function(e){return e.value==t.organizationData.is_active})});return e.state={initial_data:n,data:fe({},n)},e}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,l.a.Component),t=a,(n=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.data)!=JSON.stringify(this.state.initial_data))}},{key:"onChange",value:function(e){var t=this;this.state.data.is_active=e,this.setState({data:this.state.data},function(){return t.hasUnsavedDataAction()})}},{key:"onReset",value:function(){var e=this;this.setState({data:this.state.initial_data},function(){return e.hasUnsavedDataAction()})}},{key:"save",value:function(){this.props.onSave(fe({},this.state.data,{is_active:this.state.data.is_active.value,sectors:this.state.data.sectors}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.organizationHistoryData,a=e.store,r=a.changelog_expanded_rows;return l.a.createElement("div",{className:"tab-pane--react"},l.a.createElement("h2",{className:"no-bold"},this.state.data.name?this.state.data.name+": ":"",gettext("Status and history")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label--required",htmlFor:"organization-status-input"},gettext("Status")),l.a.createElement(J.default,{options:_e,value:this.state.data.is_active,id:"organization-status-input",onChange:function(e){return t.onChange(e)}})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group btn-row"},l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return t.save(e)}},gettext("Save Changes")),l.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.onReset()}},gettext("Reset"))))),l.a.createElement(pe.a,{data:n,expanded_rows:r,toggle_expando_cb:function(e){return a.toggleChangeLogRowExpando(e)}}))}}])&&de(t.prototype,n),r&&de(t,r),a}(),Ee=n("DDFe"),Oe=n("tnXs"),we=n("IP2g"),Ne=Object(W.c)(function(e){var t=e.store,n=e.selections;return l.a.createElement("div",{className:"form-group react-multiselect-checkbox"},l.a.createElement("label",{htmlFor:"countries_permitted_filter"},gettext("Countries")),l.a.createElement($.a,{value:t.filters.countries,options:n,onChange:function(e){return t.changeCountryFilter(e)},placeholder:gettext("None Selected"),id:"countries_permitted_filter"}))}),je=Object(W.c)(function(e){var t=e.store,n=e.selections;return l.a.createElement("div",{className:"form-group react-multiselect-checkbox"},l.a.createElement("label",{htmlFor:"programs_filter"},gettext("Programs")),l.a.createElement($.a,{value:t.filters.programs,options:n,onChange:function(e){return t.changeProgramFilter(e)},placeholder:gettext("None Selected"),id:"programs_filter"}))}),ze=Object(W.c)(function(e){var t=e.store,n=e.selections;return l.a.createElement("div",{className:"form-group react-multiselect-checkbox"},l.a.createElement("label",{htmlFor:"organizations_filter"},gettext("Organizations")),l.a.createElement($.a,{value:t.filters.organizations,options:n,onChange:function(e){return t.changeOrganizationFilter(e)},placeholder:gettext("None Selected"),id:"organization_filter"}))}),xe=Object(W.c)(function(e){var t=e.store,n=e.selections;return l.a.createElement("div",{className:"form-group react-multiselect-checkbox"},l.a.createElement("label",{htmlFor:"sector_filter"},gettext("Sectors")),l.a.createElement($.a,{value:t.filters.sectors,options:n,onChange:function(e){return t.changeSectorFilter(e)},placeholder:gettext("None Selected"),id:"sector_filter"}))}),ke=Object(W.c)(function(e){var r=e.store;return l.a.createElement("div",{id:"organization-management-index-view",className:"row"},l.a.createElement(Oe.a,null,l.a.createElement("div",{className:"filter-section"},l.a.createElement(xe,{store:r,selections:r.sector_selections}),l.a.createElement(je,{store:r,selections:r.program_selections}),l.a.createElement(ze,{store:r,selections:r.organization_selections}),l.a.createElement(Ne,{store:r,selections:r.country_selections}),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"status_filter"},gettext("Status")),l.a.createElement(J.default,{value:r.filters.organization_status,options:r.organization_status_options,onChange:function(e){return r.changeOrganizationStatusFilter(e)},placeholder:gettext("None Selected"),id:"status_filter"}))),l.a.createElement("div",{className:"filter-section filter-buttons"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return r.applyFilters()}},gettext("Apply")),l.a.createElement("button",{className:"btn btn-reset",onClick:function(){return r.clearFilters()}},gettext("Reset")))),l.a.createElement("div",{className:"col admin-list"},l.a.createElement("header",{className:"page-title"},l.a.createElement("h1",null,gettext("Admin:")," ",l.a.createElement("small",null,gettext("Organizations")))),l.a.createElement("div",{className:"admin-list__controls"},l.a.createElement("div",{className:"controls__bulk-actions"}),l.a.createElement("div",{className:"controls__buttons"},l.a.createElement("a",{href:"#",tabIndex:"0",className:"btn btn-link btn-add",onClick:function(){return r.createOrganization()}},l.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add Organization")))),l.a.createElement(Ee.a,{isLoading:r.fetching},l.a.createElement("div",{className:"admin-list__table"},l.a.createElement(X.a,{data:r.organizations_listing.map(function(e){return r.organizations[e]}),keyField:"id",HeaderRow:function(e){var t=e.Col,n=e.Row;return l.a.createElement(n,null,l.a.createElement(t,{size:"0.15"}),l.a.createElement(t,{size:"2",className:"td--stretch"},gettext("Organization")),l.a.createElement(t,null,gettext("Programs")),l.a.createElement(t,{size:"1"},gettext("Users")),l.a.createElement(t,{size:"0.25"},gettext("Status")))},Row:function(e){var t=e.Col,n=e.Row,a=e.data;return l.a.createElement(n,{expanded:a.id==r.editing_target,Expando:Object(W.c)(function(e){var t=e.Wrapper;return l.a.createElement(t,null,l.a.createElement(ne,{active_pane:r.active_editor_pane,notifyPaneChange:function(e){return r.onProfilePaneChange(e)},new:"new"==a.id,ProfileSection:Object(W.c)(function(){return l.a.createElement(Ee.a,{isLoading:r.fetching_editing_target||r.saving},l.a.createElement(ue,{onIsDirtyChange:function(e){return r.setActiveFormIsDirty(e)},new:"new"==a.id,sectorSelections:r.sector_selections,organizationData:r.editing_target_data,errors:r.editing_errors,key:r.editing_target_data.id,onSave:function(e){return r.updateOrganizationProfile(a.id,e)},onSaveNew:function(e){return r.saveNewOrganization(e)},onSaveNewAndAddAnother:function(e){return r.saveNewOrganizationAndAddAnother(e)}}))}),HistorySection:Object(W.c)(function(){return l.a.createElement(Ee.a,{isLoading:r.fetching_editing_target||r.saving},l.a.createElement(ve,{store:r,onIsDirtyChange:function(e){return r.setActiveFormIsDirty(e)},organizationData:r.editing_target_data,organizationHistoryData:r.editing_target_history,onSave:function(e){return r.updateOrganizationProfile(a.id,e)}}))})}))})},l.a.createElement(t,{size:"0.15"}),l.a.createElement(t,{size:"2",className:"td--stretch"},l.a.createElement("div",{className:"expando-toggle icon__clickable",onClick:function(){return r.toggleEditingTarget(a.id)}},l.a.createElement("div",{className:"expando-toggle__icon"},l.a.createElement(we.a,{icon:r.editing_target==a.id?"caret-down":"caret-right"})),l.a.createElement("div",{className:"expando-toggle__label"},l.a.createElement("i",{className:"fas fa-building"})," ",a.name||"---"))),l.a.createElement(t,{size:"1",className:"text-nowrap"},l.a.createElement("a",{href:"/tola_management/program/?organizations[]=".concat(a.id)},l.a.createElement("i",{className:"fas fa-cubes"})," ",a.program_count," ",gettext("programs"))),l.a.createElement(t,{size:"1",className:"text-nowrap"},l.a.createElement("a",{href:"/tola_management/user/?organizations[]=".concat(a.id)},l.a.createElement("i",{className:"fas fa-users"})," ",a.user_count," ",gettext("users"))),l.a.createElement(t,{size:"0.25"},a.is_active?gettext("Active"):gettext("Inactive")))}}))),l.a.createElement("div",{className:"admin-list__metadata"},l.a.createElement("div",{className:"metadata__count text-small text-muted"},r.organizations_count?"".concat(r.organizations_count," ").concat(gettext("organizations")):"--"),l.a.createElement("div",{className:"metadata__controls"},r.total_pages&&l.a.createElement(Y.a,{pageCount:r.total_pages,initialPage:r.current_page,onPageChange:function(e){return r.changePage(e)}})))))}),Pe=new B(jsContext.programs,jsContext.organizations,jsContext.sectors,jsContext.countries,jsContext.country_filter,jsContext.program_filter);i.a.render(l.a.createElement(ke,{store:Pe}),document.querySelector("#app_root"))},tnXs:function(e,t,n){"use strict";var a=n("q1tI"),c=n.n(a);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=o(this,u(n).call(this,e))).updateDimensions=function(){t.state.folded||t.state.folding||t.setState(function(){return{resize:!0}},function(){t.contentWidth=t.contentsContainer.current.offsetWidth,t.setState({resize:!1})})},t.state={folding:!1,folded:!1,resize:!1},t.contentsContainer=c.a.createRef(),t}var t,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,c.a.Component),t=n,(a=[{key:"componentDidMount",value:function(){this.contentWidth=this.contentsContainer.current.offsetWidth,window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"toggleFolded",value:function(){this.state.folding?this.foldComplete():this.setState({folding:!0,folded:!this.state.folded})}},{key:"foldComplete",value:function(){this.setState(function(){return{folding:!1}},this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=s(t,["className"]),r=this.state.folded?this.state.folding?"fa-angle-double-left":"fa-chevron-right":this.state.folding?"fa-angle-double-right":"fa-chevron-left",i=this.state.folded?"0px":this.state.resize?"auto":this.contentWidth+"px",o=this.state.folded||this.state.folding?"hidden":"visible";return c.a.createElement("div",l({className:"folding-sidebar "+(n||"")},a),c.a.createElement("div",{className:"folding-sidebar__contents",onTransitionEnd:function(){return e.foldComplete()},ref:this.contentsContainer,style:{width:i,overflow:o}},c.a.createElement(c.a.Fragment,null,this.props.children)),c.a.createElement("div",{className:"folding-sidebar__trigger",onClick:function(){return e.toggleFolded()}},c.a.createElement("i",{key:r},c.a.createElement("span",{className:"fa "+r}))))}}])&&i(t.prototype,a),r&&i(t,r),n}();t.a=m}},[["j6MH",0,1]]]);