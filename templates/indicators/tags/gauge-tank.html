{% load i18n %}
{# TODO: links filter the indicator list, apply a highlight class to the entire gauge, and alter the number of indicators displayed on the program page #}
{# to enable list filtering, the page calling this templatetag should load static/js/program_page_filters.js #}
<div class="gauge {% if has_filters %}filter-trigger{% endif %}"
    data-target="{{ id_tag }}"
    data-target-positive="-1"
    data-list-title="{% blocktrans %}{{ unfilled_value }} indicators {{ filter_title }}{% endblocktrans %}"
    >
    <h6 class="gauge__title">{% trans title %}</h6>
    <div class="gauge__overview">
        <div class="gauge__graphic gauge__graphic--tank">
            <div class="graphic__tick-marks">
                {% for i in ticks %}
                <div class="graphic__tick"></div>
                {% endfor %}
            </div>
            <div class="graphic__tank--unfilled" style="flex-basis: {{ unfilled_percent }}%"></div>
            <div class="graphic__tank--filled" style="flex-basis: {{ filled_percent }}%"></div>
        </div>
        <div class="gauge__labels">
            <div class="gauge__label text-muted">
                {{ unfilled_percent }}% {% trans unfilled_label %}
                <!-- TOOLTIP -->
            </div>
            <div class="gauge__label">
                <span class="gauge__value">{{ filled_percent }}% {% trans filled_label %}</span>
            </div>
        </div>
    </div>
    {% if has_filters %}
        <div class="gauge__cta"><span class="btn-link btn-inline"><i class="fas fa-exclamation-triangle text-warning"></i> {{ cta }}</a></div>
    {% endif %}
</div>
