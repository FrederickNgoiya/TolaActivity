{% extends "base.html" %}
{% load i18n %}

{% block page_title %}{% trans "Project Report" %}{% endblock %}

{% block title %}{% trans "Project Report" %} | {% endblock %}

{% block bread_crumb %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/workflow/dashboard/0/">{% trans 'Projects' %}</a></li>
        {# <li class="breadcrumb-item"><a href="/workflow/report/0/0/">Project Report</a></li> #} {# TODO: not sure but this seems superfluous #}
        <li class="breadcrumb-item active">{% trans "Report" %}</li>
    </ol>
</nav>

{% endblock bread_crumb %}
{% load render_table from django_tables2 %}

{% block content %}
<ul class="nav nav-tabs">
    <li role="presentation" class="active"><a href="/workflow/projectagreement_detail/{{ id }}/">{% trans "Initiation" %}</a></li>
    <li role="presentation"><a href="/workflow/projectcomplete_detail/{{ id }}/">{% trans "Tracking" %}</a></li>
    <li role="presentation"><a href="/workflow/siteprofile_report/{{ id }}/">{% trans "Sites" %}</a></li>
</ul>
<h3>{{ agreement.project_name }}</h3>
<p>
    <b>{% trans "Created" %}:</b> {{ agreement.create_date|date:"MEDIUM_DATE_FORMAT" }}
    <b>{% trans "Last Edited" %}:</b> {{ agreement.edit_date|date:"MEDIUM_DATE_FORMAT" }}
    <span class="btn btn-xs btn-info">{% trans "Status" %}: <b>{{ agreement.approval }}</b></span>
</p>
<div class="panel panel-info">
    <!-- Default panel contents -->
    <div class="panel-heading">{% trans "Part I: Executive Summary" %}</div>
    <!-- Table -->
    <table class="table" border="1">
        <tr>
            <th>{% trans "Project Code" %}</th>
            <th>{% trans "Account Code" %}</th>
            <th>{% trans "LIN Code" %}</th>
            <th>{% trans "Office" %}</th>
            <th>{% trans "Sector" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.activity_code }}</td>
            <td>{{ agreement.account_code }}</td>
            <td>{{ agreement.lin_code }}</td>
            <td>{{ agreement.office }}</td>
            <td>{{ agreement.sector }}</td>
        </tr>
    </table>
    <br/>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Program" %}</th>
            <th>{% trans "Project Name" %}</th>
            <th>{% trans "Project Activity" %}</th>
            <th>{% trans "Project Type" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.program }}</td>
            <td>{{ agreement.project_name }}</td>
            <td>{{ agreement.project_activity }}</td>
            <td>{{ agreement.project_type }}</td>
        </tr>
    </table>
    <br/>
    <table class="table" border="1">
        <tr>

            <th>{% trans "Site" %}</th>
            <th>{% trans "Stakeholder" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.sites }}</td>
            <td>{{ agreement.stakeholders }}</td>
        </tr>
    </table>
    <br/>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Expected Start Date" %}</th>
            <th>{% trans "Expected End Date" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.expected_start_date|date:"MEDIUM_DATE_FORMAT" }}</td>
            <td>{{ agreement.expected_end_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
    </table>
    <br/>
</div>
<div class="panel panel-info">
    <!-- Default panel contents -->
    <div class="panel-heading">{% trans "Part II: Budget" %}</div>
    <!-- Table -->
    <table class="table" border="1">
        <tr>

            <th>{% trans "Total Estimated Budget, in USD" %}</th>
            <th>{% trans "Agency Estimated Budget, in USD" %}</th>
            <th>{% trans "Total Estimated Budget, in Local Currency" %}</th>
            <th>{% trans "Agency Estimated Budget, in Local Currency" %}</th>
            <th>{% trans "Exchange Rate" %}</th>
            <th>{% trans "Exchange Rate Date" %}</th>
            <th>{% trans "Estimation Date" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.total_estimated_budget }}</td>
            <td>{{ agreement.mc_estimated_budget }}</td>
            <td>{{ agreement.local_total_estimated_budget }}</td>
            <td>{{ agreement.local_mc_estimated_budget }}</td>
            <td>{{ agreement.exchange_rate }}</td>
            <td>{{ agreement.exchange_rate_date|date:"MEDIUM_DATE_FORMAT"  }}</td>
            <td>{{ agreement.estimation_date|date:"MEDIUM_DATE_FORMAT"  }}</td>
        </tr>
    </table>
    <br/>
    <h4>{% trans "Other Budget Contributions" %}:</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Contributor" %}</th>
            <th>{% trans "Description of Contribution" %}</th>
            <th>{% trans "Proposed Value of Contribution" %}</th>
        </tr>

        {% for budget in getBudget %}
        <tr>
            <td>{{ budget.contributor }}</td>
            <td>{{ budget.description_of_contribution }}</td>
            <td>{{ budget.proposed_value }}</td>
        </tr>
        {% endfor %}
    </table>
    <br/>
</div>
<div class="panel panel-info">
    <!-- Default panel contents -->
    <div class="panel-heading">{% trans "Part III: Justification and Description" %}</div>
    <!-- Table -->
    <h4>{% trans " I. Description" %}</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Description of Project Activities" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.description_of_project_activities }}</td>
        </tr>
    </table>
    <h4>{% trans " II. Justification" %}</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "What is the anticipated Effect or Impact of this project" %}?</th>
        </tr>
        <tr>
            <td>{{ agreement.effect_or_impact }}</td>
        </tr>
        <tr>
            <th>{% trans "Risks and Assumptions" %}</th>
        </tr>
        <tr>
            <td>{{ agreement.risks_assumptions }}</td>
        </tr>
    </table>
    <br/>

</div>

<div class="panel panel-info">
    <!-- Default panel contents -->
    <div class="panel-heading">{% trans "Part III: Project Monitoring and Evaluation" %}</div>
    <!-- Table -->
    <h4>{% trans "Indicator Evidence" %}</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Targeted" %}</th>
            <th>{% trans "Indicator" %}</th>
        </tr>
        {% for output in getQuantitativeOutputs %}
        <tr>
            <td>{{ output.targeted }}</td>
            <td>{{ output.indicator }}</td>
        </tr>
        {% endfor %}
    </table>
    <h4>{% trans "Components" %}</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Description" %}</th>
            <th>{% trans "Site" %}</th>
            <th>{% trans "Est. Start Date" %}</th>
            <th>{% trans "Est. End Date" %}</th>
            <th>{% trans "Budget" %}</th>
        </tr>
        {% for benchmark in getBenchmarks %}
        <tr>
            <td>{{ benchmark.description}}</td>
            <td>{{ benchmark.site }}</td>
            <td>{{ benchmark.est_start_date|date:"MEDIUM_DATE_FORMAT" }}</td>
            <td>{{ benchmark.est_end_date|date:"MEDIUM_DATE_FORMAT" }}</td>
            <td>{{ benchmark.budget }}</td>
        </tr>
        {% endfor %}
    </table>
    <h4>{% trans "Monitoring" %}</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "Type" %}</th>
            <th>{% trans "Responsible Person" %}</th>
            <th>{% trans "Frequency" %}</th>
        </tr>
        {% for monitor in getMonitor %}
        <tr>
            <td>{{ monitor.type }}</td>
            <td>{{ monitor.responsible_person }}</td>
            <td>{{ monitor.frequency }}</td>
        </tr>
        {% endfor %}
    </table>
    <h4>{% trans "Evaluation" %}</h4>
    <table class="table" border="1">
        <tr>
            <th>{% trans "How will you evaluate the outcome or impact of the project" %}?</th>
        </tr>
        <tr>
            <td>{{ agreement.evaluations }}</td>
        </tr>
    </table>
</div>
<div class="panel panel-warning">
    <!-- Default panel contents -->
    <div class="panel-heading">{% trans "Part IV: Project Approval" %}</div>
    <!-- Table -->
    <table class="table" border="1">
        <tr>
            <th>{% trans "Action" %}</th>
            <th>{% trans "E-Signature" %}</th>
            <th>{% trans "Date" %}</th>
        </tr>
        <tr>
            <td>{% trans "Originated By" %}</td>
            <td>{{ agreement.estimated_by }}</td>
            <td>{{ agreement.estimated_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
        <tr>
            <td>{% trans "Checked By" %}</td>
            <td>{{ agreement.checked_by }}</td>
            <td>{{ agreement.checked_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
        <tr>
            <td>{% trans "Checked" %}</td>
            <td>{{ agreement.estimated_by }}</td>
            <td>{{ agreement.estimated_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
        <tr>
            <td>{% trans "Field Verification By" %}</td>
            <td>{{ agreement.reviewed_by }}</td>
            <td>{{ agreement.reviewed_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
        <tr>
            <td>{% trans "Finance Reviewed By" %}</td>
            <td>{{ agreement.finance_reviewed_by }}</td>
            <td>{{ agreement.finance_reviewed_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
        <tr>
            <td>{% trans "M&E Reviewed By" %}</td>
            <td>{{ agreement.me_reviewed_by }}</td>
            <td>{{ agreement.me_reviewed_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
    </table>
     <br/>
    <table class="table" border="1">
         <tr>
             <th>{% trans "Action" %}</th>
             <th>{% trans "E-Signature" %}</th>
             <th>{% trans "Date" %}</th>
        </tr>
         <tr>
             <td>{% trans "Approved By" %}</td>
            <td>{{ agreement.approved_by }}</td>
            <td>{{ agreement.approved_by_date|date:"MEDIUM_DATE_FORMAT" }}</td>
        </tr>
        <tr>
            <td>{% trans "Approval Submitted By" %}</td>
            <td>{{ agreement.approval_submitted_by }}</td>
            <td>&nbsp;</td>
        </tr>
        <tr>
            <td>{% trans "Approval Status" %}</td>
            <td>{{ agreement.approval }} </td>
            <td>&nbsp;</td>
        </tr>
        <tr>
            <td>{% trans "Approval Remarks" %}</td>
            <td>{{ agreement.approval_remarks }}</td>
            <td>&nbsp;</td>
        </tr>
    </table>
</div>




{% endblock content %}
